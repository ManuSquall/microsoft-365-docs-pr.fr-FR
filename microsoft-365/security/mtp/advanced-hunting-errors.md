---
title: Gérer les erreurs de la chasse avancée pour la protection contre les menaces Microsoft
description: Comprendre les erreurs affichées lors de l’utilisation de la chasse avancée
keywords: chasse aux menaces, recherche de menace, recherche de menace informatique, protection contre les menaces Microsoft, Microsoft 365, MTP, M365, recherche, requête, télémétrie, schéma, Kusto, délai d’attente, ressources, erreurs, erreur inconnue, limites, quota, paramètre, allocation
search.product: eADQiWindows 10XVcnh
search.appverid: met150
ms.prod: microsoft-365-enterprise
ms.mktglfcycl: deploy
ms.sitesec: library
ms.pagetype: security
f1.keywords:
- NOCSH
ms.author: lomayor
author: lomayor
ms.localizationpriority: medium
manager: dansimp
audience: ITPro
ms.collection:
- M365-security-compliance
- m365initiative-m365-defender
ms.topic: article
ms.openlocfilehash: 8b9c46e312d28c7a08efbfa74f96dc33b90fee0a
ms.sourcegitcommit: 628f195cbe3c00910f7350d8b09997a675dde989
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/21/2020
ms.locfileid: "48636892"
---
# <a name="handle-advanced-hunting-errors"></a><span data-ttu-id="e6465-104">Gérer les erreurs de chasse avancées</span><span class="sxs-lookup"><span data-stu-id="e6465-104">Handle advanced hunting errors</span></span>

[!INCLUDE [Microsoft 365 Defender rebranding](../includes/microsoft-defender.md)]


<span data-ttu-id="e6465-105">La chasse avancée affiche les erreurs pour signaler les erreurs de syntaxe et chaque fois que les requêtes ont des [quotas prédéfinis et des paramètres d’utilisation](advanced-hunting-limits.md).</span><span class="sxs-lookup"><span data-stu-id="e6465-105">Advanced hunting displays errors to notify for syntax mistakes and whenever queries hit [predefined quotas and usage parameters](advanced-hunting-limits.md).</span></span> <span data-ttu-id="e6465-106">Reportez-vous au tableau ci-dessous pour obtenir des conseils sur la façon de résoudre ou d’éviter des erreurs.</span><span class="sxs-lookup"><span data-stu-id="e6465-106">Refer to the table below for tips on how to resolve or avoid errors.</span></span>

| <span data-ttu-id="e6465-107">Type d’erreur</span><span class="sxs-lookup"><span data-stu-id="e6465-107">Error type</span></span> | <span data-ttu-id="e6465-108">Cause</span><span class="sxs-lookup"><span data-stu-id="e6465-108">Cause</span></span> | <span data-ttu-id="e6465-109">Résolution</span><span class="sxs-lookup"><span data-stu-id="e6465-109">Resolution</span></span> | <span data-ttu-id="e6465-110">Exemples de messages d’erreur</span><span class="sxs-lookup"><span data-stu-id="e6465-110">Error message examples</span></span> |
|--|--|--|--|
| <span data-ttu-id="e6465-111">Erreurs de syntaxe</span><span class="sxs-lookup"><span data-stu-id="e6465-111">Syntax errors</span></span> | <span data-ttu-id="e6465-112">La requête contient des noms non reconnus, y compris des références à des opérateurs, des colonnes, des fonctions ou des tables inexistants.</span><span class="sxs-lookup"><span data-stu-id="e6465-112">The query contains unrecognized names, including references to nonexistent operators, columns, functions, or tables.</span></span> | <span data-ttu-id="e6465-113">Assurez-vous que les références aux [opérateurs et fonctions Kusto](https://docs.microsoft.com/azure/data-explorer/kusto/query/) sont correctes.</span><span class="sxs-lookup"><span data-stu-id="e6465-113">Ensure references to [Kusto operators and functions](https://docs.microsoft.com/azure/data-explorer/kusto/query/) are correct.</span></span> <span data-ttu-id="e6465-114">Vérifiez [le schéma](advanced-hunting-schema-tables.md) pour les colonnes, fonctions et tableaux de recherche avancée corrects.</span><span class="sxs-lookup"><span data-stu-id="e6465-114">Check [the schema](advanced-hunting-schema-tables.md) for the correct advanced hunting columns, functions, and tables.</span></span> <span data-ttu-id="e6465-115">Placez les chaînes variables entre guillemets afin qu’elles soient reconnues.</span><span class="sxs-lookup"><span data-stu-id="e6465-115">Enclose variable strings in quotes so they are recognized.</span></span> <span data-ttu-id="e6465-116">Lors de l’écriture de vos requêtes, utilisez les suggestions de saisie semi-automatique d’IntelliSense.</span><span class="sxs-lookup"><span data-stu-id="e6465-116">While writing your queries, use the autocomplete suggestions from IntelliSense.</span></span> | `A recognition error occurred.` |
| <span data-ttu-id="e6465-117">Erreurs sémantiques</span><span class="sxs-lookup"><span data-stu-id="e6465-117">Semantic errors</span></span> | <span data-ttu-id="e6465-118">Bien que la requête utilise des noms de table, de colonne, de fonction ou de table valides, sa structure et sa logique résultante contiennent des erreurs.</span><span class="sxs-lookup"><span data-stu-id="e6465-118">While the query uses valid operator, column, function, or table names, there are errors in its structure and resulting logic.</span></span> <span data-ttu-id="e6465-119">Dans certains cas, la chasse avancée identifie l’opérateur spécifique à l’origine de l’erreur.</span><span class="sxs-lookup"><span data-stu-id="e6465-119">In some cases, advanced hunting identifies the specific operator that caused the error.</span></span> | <span data-ttu-id="e6465-120">Recherchez les erreurs dans la structure de la requête.</span><span class="sxs-lookup"><span data-stu-id="e6465-120">Check for errors in the structure of query.</span></span> <span data-ttu-id="e6465-121">Reportez-vous à [la documentation Kusto](https://docs.microsoft.com/azure/data-explorer/kusto/query/) pour obtenir des instructions.</span><span class="sxs-lookup"><span data-stu-id="e6465-121">Refer to [Kusto documentation](https://docs.microsoft.com/azure/data-explorer/kusto/query/) for guidance.</span></span> <span data-ttu-id="e6465-122">Lors de l’écriture de vos requêtes, utilisez les suggestions de saisie semi-automatique d’IntelliSense.</span><span class="sxs-lookup"><span data-stu-id="e6465-122">While writing your queries, use the autocomplete suggestions from IntelliSense.</span></span> |  `'project' operator: Failed to resolve scalar expression named 'x'`|
| <span data-ttu-id="e6465-123">Délais</span><span class="sxs-lookup"><span data-stu-id="e6465-123">Timeouts</span></span> | <span data-ttu-id="e6465-124">Une requête ne peut être exécutée qu’au cours d’une [période limitée avant](advanced-hunting-limits.md)le dépassement du délai d’expiration. Cette erreur peut se produire plus fréquemment lors de l’exécution de requêtes complexes.</span><span class="sxs-lookup"><span data-stu-id="e6465-124">A query can only run within a [limited period before timing out](advanced-hunting-limits.md). This error can happen more frequently when running complex queries.</span></span> | [<span data-ttu-id="e6465-125">Optimiser la requête</span><span class="sxs-lookup"><span data-stu-id="e6465-125">Optimize the query</span></span>](advanced-hunting-best-practices.md) | `Query exceeded the timeout period.` |
| <span data-ttu-id="e6465-126">Limitation de l’UC</span><span class="sxs-lookup"><span data-stu-id="e6465-126">CPU throttling</span></span> | <span data-ttu-id="e6465-127">Les requêtes dans le même client ont dépassé les [ressources processeur](advanced-hunting-limits.md) allouées en fonction de la taille du client.</span><span class="sxs-lookup"><span data-stu-id="e6465-127">Queries in the same tenant have exceeded the [CPU resources](advanced-hunting-limits.md) that have been allocated based on tenant size.</span></span> | <span data-ttu-id="e6465-128">Le service vérifie l’utilisation des ressources de l’UC toutes les 15 minutes et tous les jours et affiche des avertissements une fois l’utilisation dépassant 10% du quota alloué.</span><span class="sxs-lookup"><span data-stu-id="e6465-128">The service checks CPU resource usage every 15 minutes and daily and displays warnings after usage exceeds 10% of the allocated quota.</span></span> <span data-ttu-id="e6465-129">Si vous atteignez 100% d’utilisation, le service bloque les requêtes jusqu’au prochain cycle quotidien ou 15 minutes.</span><span class="sxs-lookup"><span data-stu-id="e6465-129">If you reach 100% utilization, the service blocks queries until after the next daily or 15-minute cycle.</span></span> [<span data-ttu-id="e6465-130">Optimiser vos requêtes afin d’éviter de heurter les quotas d’UC</span><span class="sxs-lookup"><span data-stu-id="e6465-130">Optimize your queries to avoid hitting CPU quotas</span></span>](advanced-hunting-best-practices.md) | - `This query used X% of your organization's allocated resources for the current 15 minutes.`<br>- `You have exceeded processing resources allocated to this tenant. You can run queries again in <duration>.` |
| <span data-ttu-id="e6465-131">Limite de taille des résultats dépassée</span><span class="sxs-lookup"><span data-stu-id="e6465-131">Result size limit exceeded</span></span>  | <span data-ttu-id="e6465-132">La taille d’agrégation du jeu de résultats pour la requête a dépassé la taille maximale.</span><span class="sxs-lookup"><span data-stu-id="e6465-132">The aggregate size of the result set for the query has exceeded the maximum size.</span></span> <span data-ttu-id="e6465-133">Cette erreur peut se produire si le jeu de résultats est si important que la troncation au niveau de la limite de 10 000 enregistrements ne permet pas de le réduire à une taille acceptable.</span><span class="sxs-lookup"><span data-stu-id="e6465-133">This error can occur if the result set is so large that truncation at the 10,000-record limit can't reduce it to an acceptable size.</span></span> <span data-ttu-id="e6465-134">Les résultats qui comportent plusieurs colonnes avec un contenu dimensionnable sont plus susceptibles d’être affectés par cette erreur.</span><span class="sxs-lookup"><span data-stu-id="e6465-134">Results that have multiple columns with sizable content are more likely to be impacted by this error.</span></span> | [<span data-ttu-id="e6465-135">Optimiser la requête</span><span class="sxs-lookup"><span data-stu-id="e6465-135">Optimize the query</span></span>](advanced-hunting-best-practices.md) | `Result size limit exceeded. Use "summarize" to aggregate results, "project" to drop uninteresting columns, or "take" to truncate results.` |
| <span data-ttu-id="e6465-136">Consommation excessive de ressources</span><span class="sxs-lookup"><span data-stu-id="e6465-136">Excessive resource consumption</span></span> | <span data-ttu-id="e6465-137">La requête a consommé une quantité excessive de ressources et a été interrompue.</span><span class="sxs-lookup"><span data-stu-id="e6465-137">The query has consumed excessive amounts of resources and has been stopped from completing.</span></span> <span data-ttu-id="e6465-138">Dans certains cas, la chasse avancée identifie l’opérateur spécifique qui n’a pas été optimisé.</span><span class="sxs-lookup"><span data-stu-id="e6465-138">In some cases, advanced hunting identifies the specific operator that wasn't optimized.</span></span> | [<span data-ttu-id="e6465-139">Optimiser la requête</span><span class="sxs-lookup"><span data-stu-id="e6465-139">Optimize the query</span></span>](advanced-hunting-best-practices.md) | -`Query stopped due to excessive resource consumption.`<br>-`Query stopped. Adjust use of the <operator name> operator to avoid excessive resource consumption.` |
| <span data-ttu-id="e6465-140">Erreurs inconnues</span><span class="sxs-lookup"><span data-stu-id="e6465-140">Unknown errors</span></span> | <span data-ttu-id="e6465-141">La requête a échoué en raison d’une raison inconnue.</span><span class="sxs-lookup"><span data-stu-id="e6465-141">The query failed because of an unknown reason.</span></span> | <span data-ttu-id="e6465-142">Essayez de réexécuter la requête.</span><span class="sxs-lookup"><span data-stu-id="e6465-142">Try running the query again.</span></span> <span data-ttu-id="e6465-143">Contactez Microsoft via le portail si les requêtes continuent à renvoyer des erreurs inconnues.</span><span class="sxs-lookup"><span data-stu-id="e6465-143">Contact Microsoft through the portal if queries continue to return unknown errors.</span></span> | `An unexpected error occurred during query execution. Please try again in a few minutes.`

## <a name="related-topics"></a><span data-ttu-id="e6465-144">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="e6465-144">Related topics</span></span>
- [<span data-ttu-id="e6465-145">Meilleures pratiques pour la chasse avancée</span><span class="sxs-lookup"><span data-stu-id="e6465-145">Advanced hunting best practices</span></span>](advanced-hunting-best-practices.md)
- [<span data-ttu-id="e6465-146">Quotas et paramètres d’utilisation</span><span class="sxs-lookup"><span data-stu-id="e6465-146">Quotas and usage parameters</span></span>](advanced-hunting-limits.md)
- [<span data-ttu-id="e6465-147">Comprendre le schéma</span><span class="sxs-lookup"><span data-stu-id="e6465-147">Understand the schema</span></span>](advanced-hunting-schema-tables.md)
- [<span data-ttu-id="e6465-148">Vue d’ensemble du langage de requête Kusto</span><span class="sxs-lookup"><span data-stu-id="e6465-148">Kusto Query Language overview</span></span>](https://docs.microsoft.com/azure/data-explorer/kusto/query/)
