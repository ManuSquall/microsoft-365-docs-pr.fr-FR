---
title: Référence Exploit Protection
keywords: atténuations, vulnérabilités, vulnérabilité, atténuation, exploit, attaques, emet
description: Détails sur le fonctionnement de la fonctionnalité Exploit Protection dans Windows 10
search.product: eADQiWindows 10XVcnh
ms.pagetype: security
ms.prod: m365-security
ms.mktglfcycl: manage
ms.sitesec: library
localization_priority: Normal
audience: ITPro
author: denisebmsft
ms.author: deniseb
ms.date: 01/06/2021
ms.reviewer: cjacks
manager: dansimp
ms.custom: asr
ms.technology: mde
ms.topic: article
ms.openlocfilehash: a87215b0e23d56a73259bbee4600ec9e15a27f3b
ms.sourcegitcommit: dcb97fbfdae52960ae62b6faa707a05358193ed5
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 03/25/2021
ms.locfileid: "51199344"
---
# <a name="exploit-protection-reference"></a><span data-ttu-id="ed5d6-104">Exploit Protection Reference</span><span class="sxs-lookup"><span data-stu-id="ed5d6-104">Exploit Protection Reference</span></span>

[!INCLUDE [Microsoft 365 Defender rebranding](../../includes/microsoft-defender.md)]


<span data-ttu-id="ed5d6-105">**S’applique à :**</span><span class="sxs-lookup"><span data-stu-id="ed5d6-105">**Applies to:**</span></span>
- [<span data-ttu-id="ed5d6-106">Microsoft Defender pour point de terminaison</span><span class="sxs-lookup"><span data-stu-id="ed5d6-106">Microsoft Defender for Endpoint</span></span>](https://go.microsoft.com/fwlink/?linkid=2154037)
- [<span data-ttu-id="ed5d6-107">Microsoft 365 Defender</span><span class="sxs-lookup"><span data-stu-id="ed5d6-107">Microsoft 365 Defender</span></span>](https://go.microsoft.com/fwlink/?linkid=2118804)

><span data-ttu-id="ed5d6-108">Vous souhaitez découvrir Microsoft Defender pour le point de terminaison ?</span><span class="sxs-lookup"><span data-stu-id="ed5d6-108">Want to experience Microsoft Defender for Endpoint?</span></span> [<span data-ttu-id="ed5d6-109">Inscrivez-vous à un essai gratuit.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-109">Sign up for a free trial.</span></span>](https://www.microsoft.com/microsoft-365/windows/microsoft-defender-atp?ocid=docs-wdatp-enablesiem-abovefoldlink)

<span data-ttu-id="ed5d6-110">Exploit Protection fournit des protections avancées pour les applications que le professionnel de l’informatique peut appliquer une fois que le développeur a compilé et distribué le logiciel.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-110">Exploit protection provides advanced protections for applications that the IT Pro can apply after the developer has compiled and distributed the software.</span></span>

<span data-ttu-id="ed5d6-111">Cet article vous aide à comprendre le fonctionnement d’Exploit Protection, tant au niveau de la stratégie qu’au niveau de l’atténuation individuelle, pour vous aider à créer et appliquer correctement des stratégies Exploit Protection.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-111">This article helps you understand how exploit protection works, both at the policy level and at the individual mitigation level, to help you successfully build and apply Exploit Protection policies.</span></span>

## <a name="how-mitigations-are-applied"></a><span data-ttu-id="ed5d6-112">Application des atténuations</span><span class="sxs-lookup"><span data-stu-id="ed5d6-112">How mitigations are applied</span></span>

<span data-ttu-id="ed5d6-113">Les atténuations Exploit Protection sont appliquées par application.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-113">Exploit Protection mitigations are applied per application.</span></span>

<span data-ttu-id="ed5d6-114">Les atténuations sont configurées via une entrée de Registre pour chaque programme pour qui vous configurez des protections.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-114">Mitigations are configured via a registry entry for each program that you configure protections for.</span></span> <span data-ttu-id="ed5d6-115">Ces paramètres sont stockés dans l’entrée de Registre **MitigationOptions** pour chaque programme (**HKEY_LOCAL_MACHINE \ SOFTWARE \ Microsoft \ Windows NT \ CurrentVersion \ Image File Execution Options \ *ImageFileName* \ MitigationOptions**).</span><span class="sxs-lookup"><span data-stu-id="ed5d6-115">These settings are stored in the **MitigationOptions** registry entry for each program (**HKEY_LOCAL_MACHINE \ SOFTWARE \ Microsoft \ Windows NT \ CurrentVersion \ Image File Execution Options \ *ImageFileName* \ MitigationOptions**).</span></span> <span data-ttu-id="ed5d6-116">Elles prennent effet lorsque vous redémarrez le programme et restent effectives jusqu’à ce que vous les modifiez et redémarrez le programme à nouveau.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-116">They take effect when you restart the program and remain effective until you change them and restart the program again.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="ed5d6-117">Les options d’exécution de fichier image vous permettent uniquement de spécifier un nom de fichier ou un chemin d’accès, et non un numéro de version, une architecture ou tout autre différenciateur.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-117">Image File Execution Options only allows you to specify a file name or path, and not a version number, architecture, or any other differentiator.</span></span> <span data-ttu-id="ed5d6-118">Faites attention à cibler les atténuations sur les applications qui ont des noms ou des chemins d’accès uniques, en les appliquant uniquement sur les appareils sur lesquels vous avez testé cette version et cette architecture de l’application.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-118">Be careful to target mitigations to apps which have unique names or paths, applying them only on devices where you have tested that version and that architecture of the application.</span></span>

<span data-ttu-id="ed5d6-119">Si vous configurez des atténuations Exploit Protection à l’aide d’un fichier de configuration XML, via PowerShell, une stratégie de groupe ou la gestion des stratégies de groupe, lors du traitement de ce fichier de configuration XML, des paramètres de Registre individuels seront configurés pour vous.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-119">If you configure exploit protection mitigations using an XML configuration file, either via PowerShell, Group Policy, or MDM, when processing this XML configuration file, individual registry settings will be configured for you.</span></span>

<span data-ttu-id="ed5d6-120">Lorsque la stratégie de distribution du fichier XML n’est plus appliquée, les paramètres déployés par ce fichier de configuration XML ne sont pas automatiquement supprimés.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-120">When the policy distributing the XML file is no longer enforced, settings deployed by this XML configuration file will not be automatically removed.</span></span> <span data-ttu-id="ed5d6-121">Pour supprimer les paramètres Exploit Protection, exportez la configuration XML à partir d’un nouvel appareil Windows 10 et déployez ce nouveau fichier XML.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-121">To remove Exploit Protection settings, export the XML configuration from a clean Windows 10 device, and deploy this new XML file.</span></span> <span data-ttu-id="ed5d6-122">Microsoft fournit également un fichier XML dans le cadre des lignes de base de sécurité Windows pour la réinitialisation des paramètres Exploit Protection.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-122">Alternately, Microsoft provides an XML file as part of the Windows Security Baselines for resetting Exploit Protection settings.</span></span>

<span data-ttu-id="ed5d6-123">Pour réinitialiser les paramètres Exploit Protection à l’aide de PowerShell, vous pouvez utiliser la commande suivante :</span><span class="sxs-lookup"><span data-stu-id="ed5d6-123">To reset exploit protection settings using PowerShell, you could use the following command:</span></span>

```powershell
Set-ProcessMitigation -PolicyFilePath EP-reset.xml
```
<span data-ttu-id="ed5d6-124">Voici les EP-reset.xml distribuées avec les lignes de base de sécurité Windows :</span><span class="sxs-lookup"><span data-stu-id="ed5d6-124">Following is the EP-reset.xml distributed with the Windows Security Baselines:</span></span>
```xml
<?xml version="1.0" encoding="UTF-8"?>
<MitigationPolicy>
  <AppConfig Executable="ONEDRIVE.EXE">
    <DEP OverrideDEP="false" />
    <ASLR OverrideRelocateImages="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
    <ImageLoad OverrideBlockRemoteImages="false" />
  </AppConfig>
  <AppConfig Executable="firefox.exe">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
  </AppConfig>
  <AppConfig Executable="fltldr.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
    <ImageLoad OverrideBlockRemoteImages="false" />
    <ChildProcess OverrideChildProcess="false" />
  </AppConfig>
  <AppConfig Executable="GROOVE.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
    <ImageLoad OverrideBlockRemoteImages="false" />
    <ChildProcess OverrideChildProcess="false" />
  </AppConfig>
  <AppConfig Executable="Acrobat.exe">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="AcroRd32.exe">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="chrome.exe">
    <DEP OverrideDEP="false" />
  </AppConfig>
  <AppConfig Executable="EXCEL.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="iexplore.exe">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="INFOPATH.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="java.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="javaw.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="javaws.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="LYNC.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="MSACCESS.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="MSPUB.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="OIS.EXE">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="OUTLOOK.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="plugin-container.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="POWERPNT.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="PPTVIEW.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="VISIO.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="VPREVIEW.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="WINWORD.EXE">
    <DEP OverrideDEP="false" />
    <ASLR ForceRelocateImages="true" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="wmplayer.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
  <AppConfig Executable="wordpad.exe">
    <DEP OverrideDEP="false" />
    <Payload OverrideEnableExportAddressFilter="false" OverrideEnableExportAddressFilterPlus="false" OverrideEnableImportAddressFilter="false" OverrideEnableRopStackPivot="false" OverrideEnableRopCallerCheck="false" OverrideEnableRopSimExec="false" />
  </AppConfig>
</MitigationPolicy>
```

## <a name="mitigation-reference"></a><span data-ttu-id="ed5d6-125">Référence de l’atténuation</span><span class="sxs-lookup"><span data-stu-id="ed5d6-125">Mitigation Reference</span></span>

<span data-ttu-id="ed5d6-126">Les sections suivantes détaillent les protections fournies par chaque atténuation Exploit Protection, les considérations de compatibilité pour l’atténuation et les options de configuration disponibles.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-126">The following sections detail the protections provided by each exploit protection mitigation, the compatibility considerations for the mitigation, and the configuration options available.</span></span>

## <a name="arbitrary-code-guard"></a><span data-ttu-id="ed5d6-127">Protection de code arbitraire</span><span class="sxs-lookup"><span data-stu-id="ed5d6-127">Arbitrary code guard</span></span>

### <a name="description"></a><span data-ttu-id="ed5d6-128">Description</span><span class="sxs-lookup"><span data-stu-id="ed5d6-128">Description</span></span>

<span data-ttu-id="ed5d6-129">La protection de code arbitraire permet de se protéger contre le chargement du code de son choix dans la mémoire par le biais d’une vulnérabilité de sécurité de mémoire et la possibilité d’exécuter ce code.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-129">Arbitrary code guard helps protect against a malicious attacker loading the code of their choice into memory through a memory safety vulnerability and being able to execute that code.</span></span>

<span data-ttu-id="ed5d6-130">La protection du code arbitraire protège une application contre l’exécution de code généré dynamiquement (code qui n’est pas chargé, par exemple, à partir de l’exe lui-même ou d’une dll).</span><span class="sxs-lookup"><span data-stu-id="ed5d6-130">Arbitrary code guard protects an application from executing dynamically generated code (code that is not loaded, for example, from the exe itself or a dll).</span></span> <span data-ttu-id="ed5d6-131">La protection de code arbitraire fonctionne en empêchant la mémoire d’être marquée comme exécutable.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-131">Arbitrary code guard works by preventing memory from being marked as executable.</span></span> <span data-ttu-id="ed5d6-132">Lorsqu’une application tente [d’allouer de la mémoire,](https://docs.microsoft.com/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc)nous vérifions les indicateurs de protection.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-132">When an application attempts to [allocate memory](https://docs.microsoft.com/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc), we check the protection flags.</span></span> <span data-ttu-id="ed5d6-133">(La mémoire peut être allouée avec des indicateurs de protection de lecture, d’écriture et/ou d’exécution.) Si l’allocation tente d’inclure l’indicateur de [*protection*](https://docs.microsoft.com/windows/win32/memory/memory-protection-constants) d’exécution, l’allocation de mémoire échoue et renvoie un code d’erreur (STATUS_DYNAMIC_CODE_BLOCKED).</span><span class="sxs-lookup"><span data-stu-id="ed5d6-133">(Memory can be allocated with read, write, and/or execute protection flags.) If the allocation attempts to include the [*execute*](https://docs.microsoft.com/windows/win32/memory/memory-protection-constants) protection flag, then the memory allocation fails and returns an error code (STATUS_DYNAMIC_CODE_BLOCKED).</span></span> <span data-ttu-id="ed5d6-134">De même, si une application tente de modifier les indicateurs de [protection](https://docs.microsoft.com/windows/win32/api/memoryapi/nf-memoryapi-virtualprotect) de la mémoire qui ont déjà été alloués et inclut l’indicateur de [*protection*](https://docs.microsoft.com/windows/win32/memory/memory-protection-constants) d’exécution, la modification d’autorisation échoue et renvoie un code d’erreur (STATUS_DYNAMIC_CODE_BLOCKED).</span><span class="sxs-lookup"><span data-stu-id="ed5d6-134">Similarly, if an application attempts to [change the protection flags of memory](https://docs.microsoft.com/windows/win32/api/memoryapi/nf-memoryapi-virtualprotect) that has already been allocated and includes the [*execute*](https://docs.microsoft.com/windows/win32/memory/memory-protection-constants) protection flag, then the permission change fails and returns an error code (STATUS_DYNAMIC_CODE_BLOCKED).</span></span>

<span data-ttu-id="ed5d6-135">En empêchant  la mise en place de l’indicateur d’exécution, la fonctionnalité de prévention de l’exécution des données de Windows 10 peut ensuite se protéger contre la mise en mémoire du pointeur d’instructions et l’exécution de ce code.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-135">By preventing the *execute* flag from being set, the data execution prevention feature of Windows 10 can then protect against the instruction pointer being set to that memory and running that code.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="ed5d6-136">Considérations sur la compatibilité</span><span class="sxs-lookup"><span data-stu-id="ed5d6-136">Compatibility considerations</span></span>

<span data-ttu-id="ed5d6-137">La protection de code arbitraire empêche l’allocation de mémoire comme exécutable, ce qui présente un problème de compatibilité avec les approches telles que les compilateurs juste-à-temps (JIT).</span><span class="sxs-lookup"><span data-stu-id="ed5d6-137">Arbitrary code guard prevents allocating any memory as executable, which presents a compatibility issue with approaches such as Just-in-Time (JIT) compilers.</span></span> <span data-ttu-id="ed5d6-138">La plupart des navigateurs modernes, par exemple, compilent JavaScript en code natif afin d’optimiser les performances.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-138">Most modern browsers, for example, will compile JavaScript into native code in order to optimize performance.</span></span> <span data-ttu-id="ed5d6-139">Pour prendre en charge cette atténuation, ils devront être réarmés pour déplacer la compilation JIT en dehors du processus protégé.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-139">In order to support this mitigation, they will need to be rearchitected to move the JIT compilation outside of the protected process.</span></span> <span data-ttu-id="ed5d6-140">Les autres applications dont la conception génère dynamiquement du code à partir de scripts ou d’autres langages intermédiaires seront incompatibles avec cette atténuation.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-140">Other applications whose design dynamically generates code from scripts or other intermediate languages will be similarly incompatible with this mitigation.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="ed5d6-141">Options de configuration</span><span class="sxs-lookup"><span data-stu-id="ed5d6-141">Configuration options</span></span>

<span data-ttu-id="ed5d6-142">**Autoriser le désagement du** thread : vous pouvez configurer l’atténuation pour autoriser un thread individuel à refuser cette protection.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-142">**Allow thread opt-out** - You can configure the mitigation to allow an individual thread to opt-out of this protection.</span></span> <span data-ttu-id="ed5d6-143">Le développeur doit avoir écrit l’application avec connaissance de cette atténuation et avoir appelé l’API [**SetThreadInformation**](https://docs.microsoft.com/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadinformation) avec le paramètre *ThreadInformation* définie sur **ThreadDynamicCodePolicy** afin d’être autorisé à exécuter du code dynamique sur ce thread.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-143">The developer must have written the application with awareness of this mitigation, and have called the [**SetThreadInformation**](https://docs.microsoft.com/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadinformation) API with the *ThreadInformation* parameter set to **ThreadDynamicCodePolicy** in order to be allowed to execute dynamic code on this thread.</span></span>

<span data-ttu-id="ed5d6-144">**Audit uniquement** : vous pouvez activer cette atténuation en mode audit afin de mesurer l’impact potentiel de la compatibilité sur une application.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-144">**Audit only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="ed5d6-145">Les événements d’audit peuvent ensuite être visualisateurs dans l’observateur d’événements ou à l’aide de la recherche avancée dans [Defender for Endpoint](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview).</span><span class="sxs-lookup"><span data-stu-id="ed5d6-145">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Defender for Endpoint](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="block-low-integrity-images"></a><span data-ttu-id="ed5d6-146">Bloquer les images à faible intégrité</span><span class="sxs-lookup"><span data-stu-id="ed5d6-146">Block low integrity images</span></span>

### <a name="description"></a><span data-ttu-id="ed5d6-147">Description</span><span class="sxs-lookup"><span data-stu-id="ed5d6-147">Description</span></span>

<span data-ttu-id="ed5d6-148">Bloquer les images à faible intégrité empêche l’application de charger des fichiers non sécurisés, généralement parce qu’ils ont été téléchargés à partir d’Internet à partir d’un navigateur en bac à sable( sandbox).</span><span class="sxs-lookup"><span data-stu-id="ed5d6-148">Block low integrity images prevents the application from loading files that are untrusted, typically because they have been downloaded from the internet from a sandboxed browser.</span></span>

<span data-ttu-id="ed5d6-149">Cette atténuation bloque le chargement de l’image si l’image possède une entrée de contrôle d’accès (ACE) qui accorde l’accès aux processus à faible il et qui n’a pas d’étiquette de confiance ACE.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-149">This mitigation will block image loads if the image has an Access Control Entry (ACE) which grants access to Low IL processes and which does not have a trust label ACE.</span></span> <span data-ttu-id="ed5d6-150">Il est implémenté par le gestionnaire de mémoire, ce qui empêche le fichier d’être mappé dans la mémoire.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-150">It is implemented by the memory manager, which blocks the file from being mapped into memory.</span></span> <span data-ttu-id="ed5d6-151">Si une application tente de ma cartographier une image à faible intégrité, elle déclenche une STATUS_ACCESS_DENIED d’erreur.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-151">If an application attempts to map a low integrity image, it will trigger a STATUS_ACCESS_DENIED error.</span></span> <span data-ttu-id="ed5d6-152">Pour plus d’informations sur le fonctionnement des niveaux d’intégrité, voir [Contrôle d’intégrité obligatoire.](https://docs.microsoft.com/windows/win32/secauthz/mandatory-integrity-control)</span><span class="sxs-lookup"><span data-stu-id="ed5d6-152">For details on how integrity levels work, see [Mandatory Integrity Control](https://docs.microsoft.com/windows/win32/secauthz/mandatory-integrity-control).</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="ed5d6-153">Considérations sur la compatibilité</span><span class="sxs-lookup"><span data-stu-id="ed5d6-153">Compatibility considerations</span></span>

<span data-ttu-id="ed5d6-154">Bloquer les images à faible intégrité empêche l’application de charger les fichiers téléchargés à partir d’Internet.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-154">Block low integrity images will prevent the application from loading files that were downloaded from the internet.</span></span> <span data-ttu-id="ed5d6-155">Si votre flux de travail d’application nécessite le chargement d’images téléchargées, vous devez vous assurer qu’elles sont téléchargées à partir d’un processus de confiance supérieure ou qu’elles sont explicitement réétiquetés afin d’appliquer cette atténuation.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-155">If your application workflow requires loading images that are downloaded, you will want to ensure that they are downloaded from a higher-trust process, or are explicitly relabeled in order to apply this mitigation.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="ed5d6-156">Options de configuration</span><span class="sxs-lookup"><span data-stu-id="ed5d6-156">Configuration options</span></span>

<span data-ttu-id="ed5d6-157">**Audit uniquement** : vous pouvez activer cette atténuation en mode audit afin de mesurer l’impact potentiel de la compatibilité sur une application.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-157">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="ed5d6-158">Les événements d’audit peuvent ensuite être visualisateurs dans l’observateur d’événements ou à l’aide de la recherche avancée [dans Microsoft Defender pour point de terminaison.](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="ed5d6-158">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="block-remote-images"></a><span data-ttu-id="ed5d6-159">Bloquer les images distantes</span><span class="sxs-lookup"><span data-stu-id="ed5d6-159">Block remote images</span></span>

### <a name="description"></a><span data-ttu-id="ed5d6-160">Description</span><span class="sxs-lookup"><span data-stu-id="ed5d6-160">Description</span></span>

<span data-ttu-id="ed5d6-161">Le blocage d’images distantes permet d’empêcher l’application de charger des fichiers hébergés sur un appareil distant, tel qu’un partage UNC.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-161">Blocking remote images helps to prevent the application from loading files that are hosted on a remote device, such as a UNC share.</span></span> <span data-ttu-id="ed5d6-162">Le blocage des images distantes permet de se protéger contre le chargement de binaires en mémoire sur un appareil externe contrôlé par l’attaquant.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-162">Blocking remote images helps protect against loading binaries into memory that are on an external device controlled by the attacker.</span></span>

<span data-ttu-id="ed5d6-163">Cette atténuation bloque les chargements d’image si l’image est déterminée comme se trouve sur un appareil distant.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-163">This mitigation will block image loads if the image is determined to be on a remote device.</span></span> <span data-ttu-id="ed5d6-164">Il est implémenté par le gestionnaire de mémoire, ce qui empêche le fichier d’être mappé dans la mémoire.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-164">It is implemented by the memory manager, which blocks the file from being mapped into memory.</span></span> <span data-ttu-id="ed5d6-165">Si une application tente de ma cartographier un fichier distant, elle déclenche STATUS_ACCESS_DENIED erreur.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-165">If an application attempts to map a remote file, it will trigger a STATUS_ACCESS_DENIED error.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="ed5d6-166">Considérations sur la compatibilité</span><span class="sxs-lookup"><span data-stu-id="ed5d6-166">Compatibility considerations</span></span>

<span data-ttu-id="ed5d6-167">Bloquer les images distantes empêche l’application de charger des images à partir d’appareils distants.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-167">Block remote images will prevent the application from loading images from remote devices.</span></span> <span data-ttu-id="ed5d6-168">Si votre application charge des fichiers ou des plug-ins à partir d’appareils distants, elle ne sera pas compatible avec cette atténuation.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-168">If your application loads files or plug-ins from remote devices, then it will not be compatible with this mitigation.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="ed5d6-169">Options de configuration</span><span class="sxs-lookup"><span data-stu-id="ed5d6-169">Configuration options</span></span>

<span data-ttu-id="ed5d6-170">**Audit uniquement** : vous pouvez activer cette atténuation en mode audit afin de mesurer l’impact potentiel de la compatibilité sur une application.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-170">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="ed5d6-171">Les événements d’audit peuvent ensuite être visualisateurs dans l’observateur d’événements ou à l’aide de la recherche avancée [dans Microsoft Defender pour point de terminaison.](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="ed5d6-171">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="block-untrusted-fonts"></a><span data-ttu-id="ed5d6-172">Bloquer les polices nontrues</span><span class="sxs-lookup"><span data-stu-id="ed5d6-172">Block untrusted fonts</span></span>

### <a name="description"></a><span data-ttu-id="ed5d6-173">Description</span><span class="sxs-lookup"><span data-stu-id="ed5d6-173">Description</span></span>

<span data-ttu-id="ed5d6-174">Bloquer les polices nontrues atténue le risque d’une faille dans l’évaluation des polices, ce qui permet à l’attaquant d’exécuter du code sur l’appareil.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-174">Block untrusted fonts mitigates the risk of a flaw in font parsing leading to the attacker being able to run code on the device.</span></span> <span data-ttu-id="ed5d6-175">Seules les polices installées dans le répertoire windows\fonts sont chargées pour être traitées par LDI.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-175">Only fonts that are installed into the windows\fonts directory will be loaded for processing by GDI.</span></span>

<span data-ttu-id="ed5d6-176">Cette atténuation est implémentée dans LDI, qui valide l’emplacement du fichier.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-176">This mitigation is implemented within GDI, which validates the location of the file.</span></span> <span data-ttu-id="ed5d6-177">Si le fichier ne se trouve pas dans le répertoire des polices système, la police n’est pas chargée pour l’examen et cet appel échoue.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-177">If the file is not in the system fonts directory, the font will not be loaded for parsing and that call will fail.</span></span>

<span data-ttu-id="ed5d6-178">Cette atténuation s’ajoute à l’atténuation intégrée fournie dans Windows 10 1607 et les ultérieures, qui déplace l’utilisation des polices en dehors du noyau et dans un conteneur d’application en mode utilisateur.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-178">This mitigation is in addition to the built-in mitigation provided in Windows 10 1607 and later, which moves font parsing out of the kernel and into a user-mode app container.</span></span> <span data-ttu-id="ed5d6-179">Toute exploitation basée sur l’évaluation des polices, par conséquent, se produit dans un contexte en bac à sable et isolé, ce qui réduit considérablement le risque.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-179">Any exploit based on font parsing, as a result, happens in a sandboxed and isolated context, which reduces the risk significantly.</span></span> <span data-ttu-id="ed5d6-180">Pour plus d’informations sur cette atténuation, consultez le blog Renforcement de [Windows 10 avec des préventions d’attaques zero-day.](https://www.microsoft.com/security/blog/2017/01/13/hardening-windows-10-with-zero-day-exploit-mitigations/)</span><span class="sxs-lookup"><span data-stu-id="ed5d6-180">For details on this mitigation, see the blog [Hardening Windows 10 with zero-day exploit mitigations](https://www.microsoft.com/security/blog/2017/01/13/hardening-windows-10-with-zero-day-exploit-mitigations/).</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="ed5d6-181">Considérations sur la compatibilité</span><span class="sxs-lookup"><span data-stu-id="ed5d6-181">Compatibility considerations</span></span>

<span data-ttu-id="ed5d6-182">L’utilisation la plus courante des polices en dehors du répertoire des polices système est avec les [polices web.](https://docs.microsoft.com/typography/fonts/font-faq#web)</span><span class="sxs-lookup"><span data-stu-id="ed5d6-182">The most common use of fonts outside of the system fonts directory is with [web fonts](https://docs.microsoft.com/typography/fonts/font-faq#web).</span></span> <span data-ttu-id="ed5d6-183">Les navigateurs modernes, tels que Microsoft Edge, utilisent DirectWrite au lieu de GDI et ne sont pas touchés.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-183">Modern browsers, such as Microsoft Edge, use DirectWrite instead of GDI, and are not impacted.</span></span> <span data-ttu-id="ed5d6-184">Toutefois, les navigateurs hérités, tels qu’Internet Explorer 11 (et le mode IE dans le nouveau Microsoft Edge) peuvent être touchés, en particulier avec les applications telles qu’Office 365, qui utilisent des glyphes de police pour afficher l’interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-184">However, legacy browsers, such as Internet Explorer 11 (and IE mode in the new Microsoft Edge) can be impacted, particularly with applications such as Office 365, which use font glyphs to display UI.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="ed5d6-185">Options de configuration</span><span class="sxs-lookup"><span data-stu-id="ed5d6-185">Configuration options</span></span>

<span data-ttu-id="ed5d6-186">**Audit uniquement** : vous pouvez activer cette atténuation en mode audit afin de mesurer l’impact potentiel de la compatibilité sur une application.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-186">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="ed5d6-187">Les événements d’audit peuvent ensuite être visualisateurs dans l’observateur d’événements ou à l’aide de la recherche avancée [dans Microsoft Defender pour point de terminaison.](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="ed5d6-187">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="code-integrity-guard"></a><span data-ttu-id="ed5d6-188">Protection de l’intégrité du code</span><span class="sxs-lookup"><span data-stu-id="ed5d6-188">Code integrity guard</span></span>

### <a name="description"></a><span data-ttu-id="ed5d6-189">Description</span><span class="sxs-lookup"><span data-stu-id="ed5d6-189">Description</span></span>

<span data-ttu-id="ed5d6-190">La protection de l’intégrité du code garantit que tous les binaires chargés dans un processus sont signés numériquement par Microsoft.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-190">Code integrity guard ensures that all binaries loaded into a process are digitally signed by Microsoft.</span></span> <span data-ttu-id="ed5d6-191">La protection de l’intégrité du code inclut des signatures [WHQL](https://docs.microsoft.com/windows-hardware/drivers/install/whql-release-signature) (Windows Hardware Quality Labs), qui permettent aux pilotes approuvés par WHQL de s’exécuter dans le processus.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-191">Code integrity guard includes [WHQL](https://docs.microsoft.com/windows-hardware/drivers/install/whql-release-signature) (Windows Hardware Quality Labs) signatures, which will allow WHQL-approved drivers to run within the process.</span></span>

<span data-ttu-id="ed5d6-192">Cette atténuation est implémentée dans le gestionnaire de mémoire, ce qui empêche le fichier binaire d’être mappé dans la mémoire.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-192">This mitigation is implemented within the memory manager, which blocks the binary from being mapped into memory.</span></span> <span data-ttu-id="ed5d6-193">Si vous tentez de charger un fichier binaire qui n’est pas signé par Microsoft, le gestionnaire de mémoire retourne l’erreur STATUS_INVALID_IMAGE_HASH.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-193">If you attempt to load a binary that is not signed by Microsoft, the memory manger will return the error STATUS_INVALID_IMAGE_HASH.</span></span> <span data-ttu-id="ed5d6-194">En bloquant au niveau du gestionnaire de mémoire, cela empêche à la fois les binaires chargés par le processus et les binaires injectés dans le processus.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-194">By blocking at the memory manager level, this prevents both binaries loaded by the process and binaries injected into the process.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="ed5d6-195">Considérations sur la compatibilité</span><span class="sxs-lookup"><span data-stu-id="ed5d6-195">Compatibility considerations</span></span>

<span data-ttu-id="ed5d6-196">Cette atténuation bloque spécifiquement tout fichier binaire qui n’est pas signé par Microsoft.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-196">This mitigation specifically blocks any binary that is not signed by Microsoft.</span></span> <span data-ttu-id="ed5d6-197">En tant que tel, il sera incompatible avec la plupart des logiciels tiers, sauf si ce logiciel est distribué par le Microsoft Store (et signé numériquement) et que l’option permettant d’autoriser le chargement des images signées par le Microsoft Store est sélectionnée.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-197">As such, it will be incompatible with most third-party software, unless that software is distributed by (and digitally signed by) the Microsoft Store, and the option to allow loading of images signed by the Microsoft Store is selected.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="ed5d6-198">Options de configuration</span><span class="sxs-lookup"><span data-stu-id="ed5d6-198">Configuration options</span></span>

<span data-ttu-id="ed5d6-199">Autorisez également le chargement des images signées par **le Microsoft Store** : les applications distribuées par le Microsoft Store seront signées numériquement par le Microsoft Store, et l’ajout de cette configuration permettra aux binaires qui ont passé par le processus de certification du Microsoft Store d’être chargés par l’application.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-199">**Also allow loading of images signed by Microsoft Store** - Applications that are distributed by the Microsoft Store will be digitally signed by the Microsoft Store, and adding this configuration will allow binaries that have gone through the store certification process to be loaded by the application.</span></span>

<span data-ttu-id="ed5d6-200">**Audit uniquement** : vous pouvez activer cette atténuation en mode audit afin de mesurer l’impact potentiel de la compatibilité sur une application.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-200">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="ed5d6-201">Les événements d’audit peuvent ensuite être visualisateurs dans l’observateur d’événements ou à l’aide de la recherche avancée [dans Microsoft Defender pour point de terminaison.](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="ed5d6-201">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="control-flow-guard-cfg"></a><span data-ttu-id="ed5d6-202">Protection du flux de contrôle (CFG)</span><span class="sxs-lookup"><span data-stu-id="ed5d6-202">Control flow guard (CFG)</span></span>

### <a name="description"></a><span data-ttu-id="ed5d6-203">Description</span><span class="sxs-lookup"><span data-stu-id="ed5d6-203">Description</span></span>

<span data-ttu-id="ed5d6-204">La protection du flux de contrôle (CFG) atténue le risque que les personnes malveillantes utilisent des vulnérabilités de corruption de mémoire en protégeant les appels de fonctions indirectes.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-204">Control flow guard (CFG) mitigates the risk of attackers using memory corruption vulnerabilities by protecting indirect function calls.</span></span> <span data-ttu-id="ed5d6-205">Par exemple, une personne malveillante peut avoir une vulnérabilité de dépassement de mémoire tampon pour remplacer la mémoire contenant un pointeur de fonction et remplacer ce pointeur de fonction par un pointeur vers le code exécutable de son choix (qui a peut-être également été injecté dans le programme).</span><span class="sxs-lookup"><span data-stu-id="ed5d6-205">For example, an attacker may user a buffer overflow vulnerability to overwrite memory containing a function pointer, and replace that function pointer with a pointer to executable code of their choice (which may also have been injected into the program).</span></span>

<span data-ttu-id="ed5d6-206">Cette atténuation est fournie par injection d’une autre vérification au moment de la compilation.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-206">This mitigation is provided by injecting another check at compile time.</span></span> <span data-ttu-id="ed5d6-207">Avant chaque appel de fonction indirecte, une autre instruction est ajoutée pour vérifier que la cible est une cible d’appel valide avant d’être appelée.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-207">Before each indirect function call, another instructions are added which verify that the target is a valid call target before it is called.</span></span> <span data-ttu-id="ed5d6-208">Si la cible n’est pas une cible d’appel valide, l’application est terminée.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-208">If the target is not a valid call target, then the application is terminated.</span></span> <span data-ttu-id="ed5d6-209">De ce fait, seules les applications compilées avec la prise en charge CFG peuvent bénéficier de cette atténuation.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-209">As such, only applications that are compiled with CFG support can benefit from this mitigation.</span></span>

<span data-ttu-id="ed5d6-210">La vérification d’une cible valide est fournie par le noyau Windows.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-210">The check for a valid target is provided by the Windows kernel.</span></span> <span data-ttu-id="ed5d6-211">Lorsque des fichiers exécutables sont chargés, les métadonnées des cibles d’appels indirects sont extraites au moment du chargement et marquées comme cibles d’appels valides.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-211">When executable files are loaded, the metadata for indirect call targets is extracted at load time and marked as valid call targets.</span></span> <span data-ttu-id="ed5d6-212">En outre, lorsque la mémoire est allouée et marquée comme exécutable (par exemple pour le code généré), ces emplacements de mémoire sont également marqués comme cibles d’appel valides, pour prendre en charge des mécanismes tels que la compilation JIT.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-212">Additionally, when memory is allocated and marked as executable (such as for generated code), these memory locations are also marked as valid call targets, to support mechanisms such as JIT compilation.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="ed5d6-213">Considérations sur la compatibilité</span><span class="sxs-lookup"><span data-stu-id="ed5d6-213">Compatibility considerations</span></span>

<span data-ttu-id="ed5d6-214">Étant donné que les applications doivent être compilées pour prendre en charge CFG, elles déclarent implicitement leur compatibilité avec elle.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-214">Since applications must be compiled to support CFG, they implicitly declare their compatibility with it.</span></span> <span data-ttu-id="ed5d6-215">Par conséquent, la plupart des applications doivent fonctionner avec cette atténuation activée.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-215">Most applications, therefore, should work with this mitigation enabled.</span></span> <span data-ttu-id="ed5d6-216">Étant donné que ces vérifications sont compilées dans le fichier binaire, la configuration que vous pouvez appliquer consiste simplement à désactiver les vérifications dans le noyau Windows.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-216">Because these checks are compiled into the binary, the configuration you can apply is merely to disable checks within the Windows kernel.</span></span> <span data-ttu-id="ed5d6-217">En d’autres termes, l’atténuation est mise en place par défaut, mais vous pouvez configurer le noyau Windows pour qu’il retourne toujours « oui » si vous déterminez ultérieurement qu’il existe un problème de compatibilité que le développeur d’applications n’a pas découvert dans ses tests, ce qui devrait être rare.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-217">In other words, the mitigation is on by default, but you can configure the Windows kernel to always return "yes" if you later determine that there is a compatibility issue that the application developer did not discover in their testing, which should be rare.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="ed5d6-218">Options de configuration</span><span class="sxs-lookup"><span data-stu-id="ed5d6-218">Configuration options</span></span>

<span data-ttu-id="ed5d6-219">Utiliser la loi **CFG** stricte : en mode strict, tous les binaires chargés dans le processus doivent être compilés pour Control Flow Guard (ou n’ont pas de code exécutable dans ces derniers, tels que les DLL de ressources) pour pouvoir être chargés.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-219">**Use strict CFG** - In strict mode, all binaries loaded into the process must be compiled for Control Flow Guard (or have no executable code in them - such as resource dlls) in order to be loaded.</span></span>

> [!Note]
> <span data-ttu-id="ed5d6-220">**La protection du flux de contrôle** n’a pas de mode audit.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-220">**Control flow guard** has no audit mode.</span></span> <span data-ttu-id="ed5d6-221">Les binaires sont compilés avec cette atténuation activée.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-221">Binaries are compiled with this mitigation enabled.</span></span>

## <a name="data-execution-prevention-dep"></a><span data-ttu-id="ed5d6-222">Prévention de l’exécution des données (DEP)</span><span class="sxs-lookup"><span data-stu-id="ed5d6-222">Data Execution Prevention (DEP)</span></span>

### <a name="description"></a><span data-ttu-id="ed5d6-223">Description</span><span class="sxs-lookup"><span data-stu-id="ed5d6-223">Description</span></span>

<span data-ttu-id="ed5d6-224">La prévention de l’exécution des données empêche l’exécution de la mémoire qui n’a pas été explicitement allouée comme exécutable.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-224">Data execution prevention (DEP) prevents memory that was not explicitly allocated as executable from being executed.</span></span> <span data-ttu-id="ed5d6-225">DeP permet de se protéger contre l’injection de code malveillant dans le processus, par exemple via un dépassement de mémoire tampon, puis l’exécution de ce code.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-225">DEP helps protect against an attacker injecting malicious code into the process, such as through a buffer overflow, and then executing that code.</span></span>

<span data-ttu-id="ed5d6-226">Si vous tentez de définir le pointeur d’instruction sur une adresse mémoire non marquée comme exécutable, le processeur va créer une exception (violation de la protection générale), ce qui entraîne le crash de l’application.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-226">If you attempt to set the instruction pointer to a memory address not marked as executable, the processor will throw an exception (general-protection violation), causing the application to crash.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="ed5d6-227">Considérations sur la compatibilité</span><span class="sxs-lookup"><span data-stu-id="ed5d6-227">Compatibility considerations</span></span>

<span data-ttu-id="ed5d6-228">Tous les exécutables x64, ARM et ARM-64 sont activés par défaut et ne peuvent pas être désactivés.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-228">All x64, ARM, and ARM-64 executables have DEP enabled by default, and it cannot be disabled.</span></span> <span data-ttu-id="ed5d6-229">Étant donné qu’une application n’a jamais été exécutée sans la PED, la compatibilité est supposée.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-229">Since an application will have never been executed without DEP, compatibility is assumed.</span></span>

<span data-ttu-id="ed5d6-230">La PED est activée par défaut pour tous les binaires x86 (32 bits), mais la PED peut être désactivée par processus.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-230">All x86 (32-bit) binaries have DEP enabled by default, but DEP can be disabled per process.</span></span> <span data-ttu-id="ed5d6-231">Certaines anciennes applications héritées, généralement développées avant Windows XP SP2, peuvent ne pas être compatibles avec DEP.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-231">Some old legacy applications, typically applications developed prior to Windows XP SP2, might not be compatible with DEP.</span></span> <span data-ttu-id="ed5d6-232">Ces applications génèrent généralement du code dynamiquement (par exemple, la compilation JIT) ou des liens vers des bibliothèques plus anciennes (telles que des versions antérieures d’ATL) qui génèrent du code de manière dynamique.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-232">Such applications typically generate code dynamically (for example, JIT compiling) or link to older libraries (such as older versions of ATL) which dynamically generate code.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="ed5d6-233">Options de configuration</span><span class="sxs-lookup"><span data-stu-id="ed5d6-233">Configuration options</span></span>

<span data-ttu-id="ed5d6-234">**Activer l’émulation de thunk ATL** : cette option de configuration désactive l’émulation de thunk ATL.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-234">**Enable ATL Thunk emulation** - This configuration option disables ATL Thunk emulation.</span></span> <span data-ttu-id="ed5d6-235">ATL, la bibliothèque ActiveX modèles, est conçue pour être aussi petite et rapide que possible.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-235">ATL, the ActiveX Template Library, is designed to be as small and fast as possible.</span></span> <span data-ttu-id="ed5d6-236">Pour réduire la taille des binaires, il utilise une technique appelée *« thunking*».</span><span class="sxs-lookup"><span data-stu-id="ed5d6-236">In order to reduce binary size, it would use a technique called *thunking*.</span></span> <span data-ttu-id="ed5d6-237">Le thunking est généralement pensé pour l’interaction entre les applications 32 bits et 16 bits, mais il n’existe aucun composant 16 bits à ATL ici.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-237">Thunking is typically thought of for interacting between 32-bit and 16-bit applications, but there are no 16-bit components to ATL here.</span></span> <span data-ttu-id="ed5d6-238">Au lieu de cela, pour optimiser la taille des binaires, ATL stocke le code de l’ordinateur en mémoire qui n’est pas aligné sur les mots (création d’un fichier binaire plus petit), puis appelle directement ce code.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-238">Rather, in order to optimize for binary size, ATL will store machine code in memory that is not word-aligned (creating a smaller binary), and then invoke that code directly.</span></span> <span data-ttu-id="ed5d6-239">Les composants ATL compilés avec Visual Studio 7.1 ou une antérieure (Visual Studio 2003) n’allouent pas cette mémoire comme exécutable : l’émulation de thunk résout ce problème de compatibilité.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-239">ATL components compiled with Visual Studio 7.1 or earlier (Visual Studio 2003) do not allocate this memory as executable - thunk emulation resolves that compatibility issue.</span></span> <span data-ttu-id="ed5d6-240">Les applications qui ont un modèle d’extension binaire (par exemple, Internet Explorer 11) doivent souvent activer l’émulation thunk ATL.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-240">Applications that have a binary extension model (such as Internet Explorer 11) will often need to have ATL Thunk emulation enabled.</span></span>

## <a name="disable-extension-points"></a><span data-ttu-id="ed5d6-241">Désactiver les points d’extension</span><span class="sxs-lookup"><span data-stu-id="ed5d6-241">Disable extension points</span></span>

### <a name="description"></a><span data-ttu-id="ed5d6-242">Description</span><span class="sxs-lookup"><span data-stu-id="ed5d6-242">Description</span></span>

<span data-ttu-id="ed5d6-243">Cette atténuation désactive divers points d’extension pour une application, qui peuvent être utilisés pour établir la persistance ou élever les privilèges de contenu malveillant.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-243">This mitigation disables various extension points for an application, which might be used to establish persistence or elevate privileges of malicious content.</span></span>

<span data-ttu-id="ed5d6-244">Cela inclut les opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="ed5d6-244">This includes:</span></span>

- <span data-ttu-id="ed5d6-245">**DLL AppInit** : chaque fois qu’un processus démarre, le système charge la DLL spécifiée dans le contexte du processus nouvellement démarré avant d’appeler sa fonction de point d’entrée.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-245">**AppInit DLLs** - Whenever a process starts, the system will load the specified DLL into to context of the newly started process before calling its entry point function.</span></span> <span data-ttu-id="ed5d6-246">[Vous pouvez trouver des détails sur les DLL AppInit ici.](https://docs.microsoft.com/windows/win32/winmsg/about-window-classes#application-global-classes)</span><span class="sxs-lookup"><span data-stu-id="ed5d6-246">[Details on AppInit DLLs can be found here](https://docs.microsoft.com/windows/win32/winmsg/about-window-classes#application-global-classes).</span></span> <span data-ttu-id="ed5d6-247">Avec cette atténuation appliquée, les DLL AppInit ne sont pas chargées.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-247">With this mitigation applied, AppInit DLLs are not loaded.</span></span> <span data-ttu-id="ed5d6-248">À partir de Windows 7, les DLL AppInit doivent être signées numériquement, [comme décrit ici.](https://docs.microsoft.com/windows/win32/win7appqual/appinit-dlls-in-windows-7-and-windows-server-2008-r2)</span><span class="sxs-lookup"><span data-stu-id="ed5d6-248">Beginning with Windows 7, AppInit DLLs need to be digitally signed, [as described here](https://docs.microsoft.com/windows/win32/win7appqual/appinit-dlls-in-windows-7-and-windows-server-2008-r2).</span></span> <span data-ttu-id="ed5d6-249">En outre, à partir de Windows 8, les DLL AppInit ne seront pas chargées si SecureBoot est activé, comme décrit [ici.](https://docs.microsoft.com/windows/win32/dlls/secure-boot-and-appinit-dlls)</span><span class="sxs-lookup"><span data-stu-id="ed5d6-249">Additionally, beginning with Windows 8, AppInit DLLs will not be loaded if SecureBoot is enabled, [as described here](https://docs.microsoft.com/windows/win32/dlls/secure-boot-and-appinit-dlls).</span></span>
- <span data-ttu-id="ed5d6-250">**IME hérité :** un éditeur de méthode d’entrée (IME) permet à un utilisateur de taper du texte dans une langue qui possède plus de caractères que ce qui peut être représenté sur un clavier.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-250">**Legacy IMEs** - An Input Method Editor (IME) allows a user to type text in a language that has more characters than can be represented on a keyboard.</span></span> <span data-ttu-id="ed5d6-251">Les tiers peuvent créer des IMU.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-251">Third parties are able to create IMEs.</span></span> <span data-ttu-id="ed5d6-252">Un IME malveillant peut obtenir des informations d’identification ou d’autres informations sensibles à partir de cette capture d’entrée.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-252">A malicious IME might obtain credentials or other sensitive information from this input capture.</span></span> <span data-ttu-id="ed5d6-253">Certains IMU, appelés IME hérités, fonctionnent uniquement sur les applications de bureau Windows, et non sur les applications UWP.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-253">Some IMEs, referred to as Legacy IMEs, will only work on Windows Desktop apps, and not UWP apps.</span></span> <span data-ttu-id="ed5d6-254">Cette atténuation empêche également cet IME hérité de se charger dans l’application de bureau Windows spécifiée.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-254">This mitigation will also prevent this legacy IME from loading into the specified Windows Desktop app.</span></span>
- <span data-ttu-id="ed5d6-255">**Hooks d’événements Windows** : une application peut appeler [l’API SetWinEventHook](https://docs.microsoft.com/windows/win32/api/winuser/nf-winuser-setwineventhook) pour inscrire l’intérêt d’un événement en cours.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-255">**Windows Event Hooks** - An application can call the [SetWinEventHook API](https://docs.microsoft.com/windows/win32/api/winuser/nf-winuser-setwineventhook) to register interest in an event taking place.</span></span> <span data-ttu-id="ed5d6-256">Une DLL est spécifiée et peut être injectée dans le processus.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-256">A DLL is specified and can be injected into the process.</span></span> <span data-ttu-id="ed5d6-257">Cette atténuation force la mise en ligne du hook dans le processus d’inscription plutôt que l’exécution in-process via une DLL injectée.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-257">This mitigation forces the hook to be posted to the registering process rather than running in-process through an injected DLL.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="ed5d6-258">Considérations sur la compatibilité</span><span class="sxs-lookup"><span data-stu-id="ed5d6-258">Compatibility considerations</span></span>

<span data-ttu-id="ed5d6-259">La plupart de ces points d’extension sont peu utilisés, donc l’impact sur la compatibilité est généralement faible, en particulier au niveau d’une application individuelle.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-259">Most of these extension points are relatively infrequently used, so compatibility impact is typically small, particularly at an individual application level.</span></span> <span data-ttu-id="ed5d6-260">La seule considération est si les utilisateurs utilisent des IED hérités tiers qui ne fonctionnent pas avec l’application protégée.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-260">The one consideration is if users are using third-party Legacy IMEs that will not work with the protected application.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="ed5d6-261">Options de configuration</span><span class="sxs-lookup"><span data-stu-id="ed5d6-261">Configuration options</span></span>

<span data-ttu-id="ed5d6-262">Il n’existe aucune option de configuration pour cette atténuation.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-262">There are no configuration options for this mitigation.</span></span>

> [!Note]
> <span data-ttu-id="ed5d6-263">**Désactiver les points d’extension** n’a pas de mode audit.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-263">**Disable extension points** has no audit mode.</span></span>

## <a name="disable-win32k-system-calls"></a><span data-ttu-id="ed5d6-264">Désactiver les appels système Win32k</span><span class="sxs-lookup"><span data-stu-id="ed5d6-264">Disable Win32k system calls</span></span>

### <a name="description"></a><span data-ttu-id="ed5d6-265">Description</span><span class="sxs-lookup"><span data-stu-id="ed5d6-265">Description</span></span>

<span data-ttu-id="ed5d6-266">Win32k.sys fournit une large surface d’attaque pour un attaquant.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-266">Win32k.sys provides a broad attack surface for an attacker.</span></span> <span data-ttu-id="ed5d6-267">En tant que composant en mode noyau, il est souvent ciblé en tant que vecteur d’échappatoire pour les applications en bac à sable (sandbox).</span><span class="sxs-lookup"><span data-stu-id="ed5d6-267">As a kernel-mode component, it is frequently targeted as an escape vector for applications that are sandboxed.</span></span> <span data-ttu-id="ed5d6-268">Cette atténuation empêche les appels dans win32k.sys en bloquant un thread de se convertir lui-même en thread d’interface graphique graphique, qui est ensuite autorisé à appeler les fonctions Win32k.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-268">This mitigation prevents calls into win32k.sys by blocking a thread from converting itself into a GUI thread, which is then given access to invoke Win32k functions.</span></span> <span data-ttu-id="ed5d6-269">Un thread n’est pas une interface utilisateur graphique lorsqu’il est créé, mais converti lors du premier appel win32k.sys, ou via un appel d’API [à IsGuiThread](https://docs.microsoft.com/windows/win32/api/winuser/nf-winuser-isguithread).</span><span class="sxs-lookup"><span data-stu-id="ed5d6-269">A thread is non-GUI when created, but converted on first call to win32k.sys, or through an API call to [IsGuiThread](https://docs.microsoft.com/windows/win32/api/winuser/nf-winuser-isguithread).</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="ed5d6-270">Considérations sur la compatibilité</span><span class="sxs-lookup"><span data-stu-id="ed5d6-270">Compatibility considerations</span></span>

<span data-ttu-id="ed5d6-271">Cette atténuation est conçue pour les processus dédiés qui ne sont pas des processus d’interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-271">This mitigation is designed for processes that are dedicated non-UI processes.</span></span> <span data-ttu-id="ed5d6-272">Par exemple, de nombreux navigateurs modernes utilisent l’isolation des processus et intègrent des processus non-interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-272">For example, many modern browsers will use process isolation and incorporate non-UI processes.</span></span> <span data-ttu-id="ed5d6-273">Toute application qui affiche une interface graphique graphique à l’aide d’un seul processus sera impactée par cette atténuation.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-273">Any application that displays a GUI using a single process will be impacted by this mitigation.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="ed5d6-274">Options de configuration</span><span class="sxs-lookup"><span data-stu-id="ed5d6-274">Configuration options</span></span>

<span data-ttu-id="ed5d6-275">**Audit uniquement** : vous pouvez activer cette atténuation en mode audit afin de mesurer l’impact potentiel de la compatibilité sur une application.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-275">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="ed5d6-276">Les événements d’audit peuvent ensuite être visualisateurs dans l’observateur d’événements ou à l’aide de la recherche avancée [dans Microsoft Defender pour point de terminaison.](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="ed5d6-276">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="do-not-allow-child-processes"></a><span data-ttu-id="ed5d6-277">Ne pas autoriser les processus enfants</span><span class="sxs-lookup"><span data-stu-id="ed5d6-277">Do not allow child processes</span></span>

### <a name="description"></a><span data-ttu-id="ed5d6-278">Description</span><span class="sxs-lookup"><span data-stu-id="ed5d6-278">Description</span></span>

<span data-ttu-id="ed5d6-279">Cette atténuation empêche une application de créer de nouvelles applications enfants.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-279">This mitigation prevents an application from creating new child applications.</span></span> <span data-ttu-id="ed5d6-280">Une technique courante utilisée par les adversaires consiste à lancer un processus approuvé sur l’appareil avec des entrées malveillantes (une attaque « de la terre », qui nécessite souvent le lancement d’une autre application sur l’appareil).</span><span class="sxs-lookup"><span data-stu-id="ed5d6-280">A common technique used by adversaries is to initiate a trusted process on the device with malicious input (a "living off the land" attack), which often requires launching another application on the device.</span></span> <span data-ttu-id="ed5d6-281">S’il n’existe aucune raison légitime pour laquelle une application lancerait un processus enfant, cette atténuation atténue ce vecteur d’attaque potentiel.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-281">If there are no legitimate reasons why an application would launch a child process, this mitigation mitigates that potential attack vector.</span></span> <span data-ttu-id="ed5d6-282">L’atténuation est appliquée en attnuant une propriété sur le jeton de processus, ce qui bloque la création d’un jeton pour le processus enfant avec le message d’erreur STATUS_CHILD_PROCESS_BLOCKED.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-282">The mitigation is applied by setting a property on the process token, which blocks creating a token for the child process with the error message STATUS_CHILD_PROCESS_BLOCKED.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="ed5d6-283">Considérations sur la compatibilité</span><span class="sxs-lookup"><span data-stu-id="ed5d6-283">Compatibility considerations</span></span>

<span data-ttu-id="ed5d6-284">Si votre application lance des applications enfants pour une raison quelconque, telles que la prise en charge des liens hypertexte qui lancent un navigateur ou un navigateur externe, ou qui lancent d’autres utilitaires sur l’ordinateur, cette fonctionnalité sera rompue avec cette atténuation appliquée.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-284">If your application launches child applications for any reason, such as supporting hyperlinks that launch a browser or an external browser, or which launch other utilities on the computer, this functionality will be broken with this mitigation applied.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="ed5d6-285">Options de configuration</span><span class="sxs-lookup"><span data-stu-id="ed5d6-285">Configuration options</span></span>

<span data-ttu-id="ed5d6-286">**Audit uniquement** : vous pouvez activer cette atténuation en mode audit afin de mesurer l’impact potentiel de la compatibilité sur une application.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-286">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="ed5d6-287">Les événements d’audit peuvent ensuite être visualisateurs dans l’observateur d’événements ou à l’aide de la recherche avancée [dans Microsoft Defender pour point de terminaison.](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="ed5d6-287">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="export-address-filtering"></a><span data-ttu-id="ed5d6-288">Exporter le filtrage des adresses</span><span class="sxs-lookup"><span data-stu-id="ed5d6-288">Export address filtering</span></span>

### <a name="description"></a><span data-ttu-id="ed5d6-289">Description</span><span class="sxs-lookup"><span data-stu-id="ed5d6-289">Description</span></span>

<span data-ttu-id="ed5d6-290">Le filtrage des adresses d’exportation (EAF) atténue le risque que du code malveillant recherche la table d’adresses d’exportation de tous les modules chargés pour trouver des modules qui contiennent des API utiles pour leur attaque.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-290">Export address filtering (EAF) mitigates the risk of malicious code looking at the export address table of all loaded modules to find modules that contain useful APIs for their attack.</span></span> <span data-ttu-id="ed5d6-291">Il s’agit d’une tactique courante utilisée par shellcode.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-291">This is a common tactic used by shellcode.</span></span> <span data-ttu-id="ed5d6-292">Afin d’atténuer le risque d’une telle attaque, cette atténuation protège trois modules fréquemment exposés :</span><span class="sxs-lookup"><span data-stu-id="ed5d6-292">In order to mitigate the risk of such an attack, this mitigation protects three commonly attacked modules:</span></span>

- <span data-ttu-id="ed5d6-293">ntdll.dll</span><span class="sxs-lookup"><span data-stu-id="ed5d6-293">ntdll.dll</span></span>
- <span data-ttu-id="ed5d6-294">kernelbase.dll</span><span class="sxs-lookup"><span data-stu-id="ed5d6-294">kernelbase.dll</span></span>
- <span data-ttu-id="ed5d6-295">kernel32.dll</span><span class="sxs-lookup"><span data-stu-id="ed5d6-295">kernel32.dll</span></span>

<span data-ttu-id="ed5d6-296">L’atténuation protège la page mémoire dans le [répertoire d’exportation qui pointe vers la [table d’adresses d’exportation .](https://docs.microsoft.com/windows/win32/debug/pe-format#export-address-table)</span><span class="sxs-lookup"><span data-stu-id="ed5d6-296">The mitigation protects the memory page in the [export directory that points to the [export address table](https://docs.microsoft.com/windows/win32/debug/pe-format#export-address-table).</span></span> <span data-ttu-id="ed5d6-297">La protection contre PAGE_GUARD [mémoire](https://docs.microsoft.com/windows/win32/memory/creating-guard-pages) est appliquée à cette page mémoire.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-297">This memory page will have the [PAGE_GUARD](https://docs.microsoft.com/windows/win32/memory/creating-guard-pages) protection applied to it.</span></span> <span data-ttu-id="ed5d6-298">Lorsqu’une personne tente d’accéder à cette mémoire, elle génère une STATUS_GUARD_PAGE_VIOLATION.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-298">When someone tries to access this memory, it will generate a STATUS_GUARD_PAGE_VIOLATION.</span></span> <span data-ttu-id="ed5d6-299">L’atténuation gère cette exception et si l’instruction d’accès n’est pas validée, le processus est interrompu.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-299">The mitigation handles this exception, and if the accessing instruction doesn't pass validation, the process will be terminated.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="ed5d6-300">Considérations sur la compatibilité</span><span class="sxs-lookup"><span data-stu-id="ed5d6-300">Compatibility considerations</span></span>

<span data-ttu-id="ed5d6-301">Cette atténuation est principalement un problème pour les applications telles que les déboguers, les applications en bac à sable( sandbox), les applications utilisant la gestion des données numériques (DRM) ou les applications qui implémentent la technologie anti-débogage.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-301">This mitigation is primarily an issue for applications such as debuggers, sandboxed applications, applications using DRM, or applications that implement anti-debugging technology.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="ed5d6-302">Options de configuration</span><span class="sxs-lookup"><span data-stu-id="ed5d6-302">Configuration options</span></span>

<span data-ttu-id="ed5d6-303">**Validez l’accès** aux modules qui sont couramment exploités par des attaques : cette option, également appelée EAF+, ajoute des protections pour les autres modules fréquemment attaquants :</span><span class="sxs-lookup"><span data-stu-id="ed5d6-303">**Validate access for modules that are commonly abused by exploits** - This option, also known as EAF+, adds protections for other commonly attacked modules:</span></span>

- `mshtml.dll`
- `flash*.ocx`
- `jscript*.ocx`
- `vbscript.dll`
- `vgx.dll`
- `mozjs.dll`
- `xul.dll`
- `acrord32.dll`
- `acrofx32.dll`
- `acroform.api`

<span data-ttu-id="ed5d6-304">En outre, en activant EAF+, cette atténuation ajoute la protection PAGE_GUARD à la page contenant l’en-tête « MZ », les deux premiers octets de l’en-tête DOS dans un fichier [PE,](https://docs.microsoft.com/windows/win32/debug/pe-format#ms-dos-stub-image-only)qui est un autre aspect du contenu mémoire connu que le shellcode peut rechercher pour identifier les modules potentiellement susceptibles d’intéresser la mémoire.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-304">Additionally, by enabling EAF+, this mitigation adds the PAGE_GUARD protection to the page containing the "MZ" header, the first two bytes of the [DOS header in a PE file](https://docs.microsoft.com/windows/win32/debug/pe-format#ms-dos-stub-image-only), which is another aspect of known memory content which shellcode can look for to identify modules potentially of interest in memory.</span></span>

<span data-ttu-id="ed5d6-305">**Audit uniquement** : vous pouvez activer cette atténuation en mode audit afin de mesurer l’impact potentiel de la compatibilité sur une application.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-305">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="ed5d6-306">Les événements d’audit peuvent ensuite être visualisateurs dans l’observateur d’événements ou à l’aide de la recherche avancée [dans Microsoft Defender pour point de terminaison.](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="ed5d6-306">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="force-randomization-for-images-mandatory-aslr"></a><span data-ttu-id="ed5d6-307">Forcer la randomisation pour les images (ASLR obligatoire)</span><span class="sxs-lookup"><span data-stu-id="ed5d6-307">Force randomization for images (Mandatory ASLR)</span></span>

### <a name="description"></a><span data-ttu-id="ed5d6-308">Description</span><span class="sxs-lookup"><span data-stu-id="ed5d6-308">Description</span></span>

<span data-ttu-id="ed5d6-309">La randomisation du schéma d’espace d’adressamage (ASLR) atténue le risque qu’une personne malveillante utilise sa connaissance de la disposition de la mémoire du système afin d’exécuter du code déjà présent dans la mémoire du processus et déjà marqué comme exécutable.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-309">Address Space Layout Randomization (ASLR) mitigates the risk of an attacker using their knowledge of the memory layout of the system in order to execute code that is already present in process memory and already marked as executable.</span></span> <span data-ttu-id="ed5d6-310">Cela peut atténuer le risque qu’une personne malveillante utilise des techniques telles que les attaques de retour à la base de données, où l’adversaire définit le contexte, puis modifie l’adresse de retour pour exécuter le code existant avec le contexte qui répond à l’objectif de l’adversaire.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-310">This can mitigate the risk of an attacker using techniques such as return-to-libc attacks, where the adversary sets the context and then modifies the return address to execute existing code with context that suits the adversary's purpose.</span></span>

<span data-ttu-id="ed5d6-311">L’ASLR obligatoire force une rebase de toutes les DLL dans le processus.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-311">Mandatory ASLR forces a rebase of all DLLs within the process.</span></span> <span data-ttu-id="ed5d6-312">Un développeur peut activer ASLR à l’aide de l’option d’éditeur de liens [/DYNAMICBASE,](https://docs.microsoft.com/cpp/build/reference/dynamicbase-use-address-space-layout-randomization?view=vs-2019&preserve-view=true) et cette atténuation a le même effet.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-312">A developer can enable ASLR using the [/DYNAMICBASE](https://docs.microsoft.com/cpp/build/reference/dynamicbase-use-address-space-layout-randomization?view=vs-2019&preserve-view=true) linker option, and this mitigation has the same effect.</span></span>

<span data-ttu-id="ed5d6-313">Lorsque le gestionnaire de mémoire est mappage dans l’image dans le processus, l’ASLR obligatoire rebasera de force les DLLs et les EXE qui n’ont pas choisi d’y rebascier.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-313">When the memory manager is mapping in the image into the process, Mandatory ASLR will forcibly rebase DLLs and EXEs that have not opted in to ASLR.</span></span> <span data-ttu-id="ed5d6-314">Notez toutefois que ce rebasing n’a pas d’entropie et peut donc être placé à un emplacement prévisible en mémoire.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-314">Note, however, that this rebasing has no entropy, and can therefore be placed at a predictable location in memory.</span></span> <span data-ttu-id="ed5d6-315">Pour l’emplacement rebased et aléatoire des binaires, cette atténuation doit être couplée à des allocations de mémoire [aléatoires (ASLR de](#randomize-memory-allocations-bottom-up-aslr)bas en haut).</span><span class="sxs-lookup"><span data-stu-id="ed5d6-315">For rebased and randomized location of binaries, this mitigation should be paired with [Randomize memory allocations (Bottom-up ASLR)](#randomize-memory-allocations-bottom-up-aslr).</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="ed5d6-316">Considérations sur la compatibilité</span><span class="sxs-lookup"><span data-stu-id="ed5d6-316">Compatibility considerations</span></span>

<span data-ttu-id="ed5d6-317">Cet impact sur la compatibilité de l’ASLR est généralement limité aux applications plus anciennes qui ont été conçues à l’aide de compilateurs qui ont effectué des hypothèses sur l’adresse de base d’un fichier binaire ou qui ont retiré les informations de déplacement de base.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-317">This compatibility impact of ASLR is typically constrained to older applications that were built using compilers that made assumptions about the base address of a binary file or have stripped out base relocation information.</span></span> <span data-ttu-id="ed5d6-318">Cela peut entraîner des erreurs imprévisibles lorsque le flux d’exécution tente de passer à l’emplacement attendu, plutôt qu’à l’emplacement réel en mémoire.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-318">This can lead to unpredictable errors as the execution flow attempts to jump to the expected, rather than the actual, location in memory.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="ed5d6-319">Options de configuration</span><span class="sxs-lookup"><span data-stu-id="ed5d6-319">Configuration options</span></span>

<span data-ttu-id="ed5d6-320">**Ne pas autoriser les images vidées** : cette option bloque le chargement des images dont les informations de déplacement ont été vidées.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-320">**Do not allow stripped images** - This option blocks the loading of images that have had relocation information stripped.</span></span> <span data-ttu-id="ed5d6-321">Le format de fichier Windows PE contient des adresses absolues et le compilateur génère également une [table de déplacement de base que le chargeur peut utiliser pour rechercher toutes les références de mémoire relatives et leur décalage, afin qu’elles soient mises à jour si le fichier binaire ne se charge pas à son adresse de base préférée.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-321">The Windows PE file format contains absolute addresses, and the compiler also generates a [base relocation table that the loader can use to find all relative memory references and their offset, so they can be updated if the binary does not load at its preferred base address.</span></span> <span data-ttu-id="ed5d6-322">Certaines applications plus anciennes ne détaillent pas ces informations dans les builds de production et, par conséquent, ces binaires ne peuvent pas être rebasenés.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-322">Some older applications strip out this information in production builds, and therefore these binaries cannot be rebased.</span></span> <span data-ttu-id="ed5d6-323">Cette atténuation bloque le chargement de ces binaires (au lieu de leur permettre de se charger à leur adresse de base préférée).</span><span class="sxs-lookup"><span data-stu-id="ed5d6-323">This mitigation blocks such binaries from being loaded (instead of allowing them to load at their preferred base address).</span></span>

> [!Note]
> <span data-ttu-id="ed5d6-324">**Forcer la randomisation des images (ASLR obligatoire)** n’a pas de mode audit.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-324">**Force randomization for images (Mandatory ASLR)** has no audit mode.</span></span>

## <a name="import-address-filtering-iaf"></a><span data-ttu-id="ed5d6-325">Importer le filtrage des adresses (IAF)</span><span class="sxs-lookup"><span data-stu-id="ed5d6-325">Import address filtering (IAF)</span></span>

### <a name="description"></a><span data-ttu-id="ed5d6-326">Description</span><span class="sxs-lookup"><span data-stu-id="ed5d6-326">Description</span></span>

<span data-ttu-id="ed5d6-327">L’atténuation du filtrage des adresses d’importation (IAF) permet d’atténuer le risque qu’un adversaire modifie le flux de contrôle d’une application en modifiant la table d’adresses d’importation (IAT) pour rediriger vers le code arbitraire du choix de l’attaquant lorsque cette fonction est appelée.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-327">The import address filtering (IAF) mitigation helps mitigate the risk of an adversary changing the control flow of an application by modifying the import address table (IAT) to redirect to arbitrary code of the attacker's choice when that function is called.</span></span> <span data-ttu-id="ed5d6-328">Un attaquant peut utiliser cette approche pour pirater le contrôle ou intercepter, inspecter et potentiellement bloquer les appels aux API sensibles.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-328">An attacker could use this approach to hijack control, or to intercept, inspect, and potentially block calls to sensitive APIs.</span></span>

<span data-ttu-id="ed5d6-329">Les pages de mémoire de toutes les API protégées auront la protection [PAGE_GUARD](https://docs.microsoft.com/windows/win32/memory/creating-guard-pages) protection qui leur est appliquée.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-329">The memory pages for all protected APIs will have the [PAGE_GUARD](https://docs.microsoft.com/windows/win32/memory/creating-guard-pages) protection applied to them.</span></span> <span data-ttu-id="ed5d6-330">Lorsqu’une personne tente d’accéder à cette mémoire, elle génère une STATUS_GUARD_PAGE_VIOLATION.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-330">When someone tries to access this memory, it will generate a STATUS_GUARD_PAGE_VIOLATION.</span></span> <span data-ttu-id="ed5d6-331">L’atténuation gère cette exception et si l’instruction d’accès n’est pas validée, le processus est interrompu.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-331">The mitigation handles this exception, and if the accessing instruction doesn't pass validation, the process will be terminated.</span></span>

<span data-ttu-id="ed5d6-332">Cette atténuation protège les API Windows suivantes :</span><span class="sxs-lookup"><span data-stu-id="ed5d6-332">This mitigation protects the following Windows APIs:</span></span>

- `GetProcAddress`
- `GetProcAddressForCaller`
- `LoadLibraryA`
- `LoadLibraryExA`
- `LoadLibraryW`
- `LoadLibraryExW`
- `LdrGetProcedureAddress`
- `LdrGetProcedureAddressEx`
- `LdrGetProcedureAddressForCaller`
- `LdrLoadDll`
- `VirtualProtect`
- `VirtualProtectEx`
- `VirtualAlloc`
- `VirtualAllocEx`
- `NtAllocateVirtualMemory`
- `NtProtectVirtualMemory`
- `CreateProcessA`
- `CreateProcessW`
- `WinExec`
- `CreateProcessAsUserA`
- `CreateProcessAsUserW`
- `GetModuleHandleA`
- `GetModuleHandleW`
- `RtlDecodePointer`
- `DecodePointer`

### <a name="compatibility-considerations"></a><span data-ttu-id="ed5d6-333">Considérations sur la compatibilité</span><span class="sxs-lookup"><span data-stu-id="ed5d6-333">Compatibility considerations</span></span>

<span data-ttu-id="ed5d6-334">Les applications légitimes qui effectuent l’interception d’API peuvent être détectées par cette atténuation et provoquer le crash de certaines applications.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-334">Legitimate applications that perform API interception may be detected by this mitigation and cause some applications to crash.</span></span> <span data-ttu-id="ed5d6-335">Les shims de compatibilité des applications et des logiciels de sécurité en sont des exemples.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-335">Examples include security software and application compatibility shims.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="ed5d6-336">Options de configuration</span><span class="sxs-lookup"><span data-stu-id="ed5d6-336">Configuration options</span></span>

<span data-ttu-id="ed5d6-337">**Audit uniquement** : vous pouvez activer cette atténuation en mode audit afin de mesurer l’impact potentiel de la compatibilité sur une application.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-337">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="ed5d6-338">Les événements d’audit peuvent ensuite être visualisateurs dans l’observateur d’événements ou à l’aide de la recherche avancée [dans Microsoft Defender pour point de terminaison.](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="ed5d6-338">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="randomize-memory-allocations-bottom-up-aslr"></a><span data-ttu-id="ed5d6-339">Randomize memory allocations (Bottom-up ASLR)</span><span class="sxs-lookup"><span data-stu-id="ed5d6-339">Randomize memory allocations (Bottom-up ASLR)</span></span>

### <a name="description"></a><span data-ttu-id="ed5d6-340">Description</span><span class="sxs-lookup"><span data-stu-id="ed5d6-340">Description</span></span>

<span data-ttu-id="ed5d6-341">Rendre aléatoires les allocations de mémoire (ASLR de bas en haut) ajoute de l’entropie aux déplacements, de sorte que leur emplacement est aléatoire et donc moins prévisible.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-341">Randomize memory allocations (Bottom-up ASLR) adds entropy to relocations, so their location is randomized and therefore less predictable.</span></span> <span data-ttu-id="ed5d6-342">Cette atténuation nécessite l’application de la réduction du temps de travail obligatoire.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-342">This mitigation requires Mandatory ASLR to take effect.</span></span>

<span data-ttu-id="ed5d6-343">La taille de l’espace d’adressare 32 bits place des contraintes pratiques sur l’entropie qui peuvent être ajoutées, et par conséquent, les applications 64 bits rendent plus difficile pour un attaquant de deviner un emplacement en mémoire.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-343">The size of the 32-bit address space places practical constraints on the entropy that can be added, and therefore 64-bit applications make it more difficult for an attacker to guess a location in memory.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="ed5d6-344">Considérations sur la compatibilité</span><span class="sxs-lookup"><span data-stu-id="ed5d6-344">Compatibility considerations</span></span>

<span data-ttu-id="ed5d6-345">La plupart des applications compatibles avec l’ASLR obligatoire (rebasing) sont également compatibles avec l’autre entropie de bas en haut ASLR.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-345">Most applications that are compatible with Mandatory ASLR (rebasing) are also compatible with the other entropy of Bottom-up ASLR.</span></span> <span data-ttu-id="ed5d6-346">Certaines applications peuvent avoir des problèmes de troncation de pointeur si elles sauvegardent des pointeurs locaux dans des variables 32 bits (en attendant une adresse de base inférieure à 4 Go), et seront donc incompatibles avec l’option d’entropie élevée (qui peut être désactivée).</span><span class="sxs-lookup"><span data-stu-id="ed5d6-346">Some applications may have pointer-truncation issues if they are saving local pointers in 32-bit variables (expecting a base address below 4 GB), and thus will be incompatible with the high entropy option (which can be disabled).</span></span>

### <a name="configuration-options"></a><span data-ttu-id="ed5d6-347">Options de configuration</span><span class="sxs-lookup"><span data-stu-id="ed5d6-347">Configuration options</span></span>

<span data-ttu-id="ed5d6-348">N’utilisez pas **d’entropie** élevée : cette option désactive l’utilisation de l’ASLR haute entropie, qui ajoute 24 bits d’entropie (1 To de variance) dans l’allocation de bas en haut pour les applications 64 bits.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-348">**Don't use high entropy** - this option disables the use of high-entropy ASLR, which adds 24 bits of entropy (1 TB of variance) into the bottom-up allocation for 64-bit applications.</span></span>

> [!Note]
> <span data-ttu-id="ed5d6-349">**Les allocations de mémoire aléatoires (ASLR de** bas en haut) n’ont pas de mode audit.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-349">**Randomize memory allocations (Bottom-up ASLR)** has no audit mode.</span></span>

## <a name="simulate-execution-simexec"></a><span data-ttu-id="ed5d6-350">Simuler l’exécution (SimExec)</span><span class="sxs-lookup"><span data-stu-id="ed5d6-350">Simulate execution (SimExec)</span></span>

### <a name="description"></a><span data-ttu-id="ed5d6-351">Description</span><span class="sxs-lookup"><span data-stu-id="ed5d6-351">Description</span></span>

<span data-ttu-id="ed5d6-352">La simulation d’exécution (SimExec) est une atténuation pour les applications 32 bits uniquement.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-352">Simulate execution (SimExec) is a mitigation for 32-bit applications only.</span></span> <span data-ttu-id="ed5d6-353">Cela permet de vérifier que les appels aux API sensibles retournent aux fonctions d’appelant légitimes.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-353">This helps validate that calls to sensitive APIs will return to legitimate caller functions.</span></span> <span data-ttu-id="ed5d6-354">Pour ce faire, il intercepte les appels dans les API sensibles, puis simule l’exécution de ces API en parpant les instructions de langage d’assembly codées à la recherche de l’instruction RET, qui doit revenir à l’appelant.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-354">It does this by intercepting calls into sensitive APIs, and then simulating the execution of those APIs by walking through the encoded assembly language instructions looking for the RET instruction, which should return to the caller.</span></span> <span data-ttu-id="ed5d6-355">Il inspecte ensuite cette fonction et fait un parcours vers l’arrière en mémoire pour trouver l’instruction CALL précédente afin de déterminer si la fonction et l’instruction CALL correspondent, et que l’instruction RET n’a pas été interceptée.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-355">It then inspects that function and walks backwards in memory to find the preceding CALL instruction to determine whether the function and CALL instruction match, and that the RET hasn't been intercepted.</span></span>

<span data-ttu-id="ed5d6-356">Les API interceptées par cette atténuation sont :</span><span class="sxs-lookup"><span data-stu-id="ed5d6-356">The APIs intercepted by this mitigation are:</span></span>

- `LoadLibraryA`
- `LoadLibraryW`
- `LoadLibraryExA`
- `LoadLibraryExW`
- `LdrLoadDll`
- `VirtualAlloc`
- `VirtualAllocEx`
- `NtAllocateVirtualMemory`
- `VirtualProtect`
- `VirtualProtectEx`
- `NtProtectVirtualMemory`
- `HeapCreate`
- `RtlCreateHeap`
- `CreateProcessA`
- `CreateProcessW`
- `CreateProcessInternalA`
- `CreateProcessInternalW`
- `NtCreateUserProcess`
- `NtCreateProcess`
- `NtCreateProcessEx`
- `CreateRemoteThread`
- `CreateRemoteThreadEx`
- `NtCreateThreadEx`
- `WriteProcessMemory`
- `NtWriteVirtualMemory`
- `WinExec`
- `CreateFileMappingA`
- `CreateFileMappingW`
- `CreateFileMappingNumaW`
- `NtCreateSection`
- `MapViewOfFile`
- `MapViewOfFileEx`
- `MapViewOfFileFromApp`
- `LdrGetProcedureAddressForCaller`

<span data-ttu-id="ed5d6-357">Si un gadget ROP est détecté, le processus est terminé.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-357">If a ROP gadget is detected, the process is terminated.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="ed5d6-358">Considérations sur la compatibilité</span><span class="sxs-lookup"><span data-stu-id="ed5d6-358">Compatibility considerations</span></span>

<span data-ttu-id="ed5d6-359">Les applications qui effectuent l’interception d’API, en particulier les logiciels de sécurité, peuvent entraîner des problèmes de compatibilité avec cette atténuation.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-359">Applications that perform API interception, particularly security software, can cause compatibility problems with this mitigation.</span></span>

<span data-ttu-id="ed5d6-360">Cette atténuation est incompatible avec l’atténuation De Code Guard arbitraire.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-360">This mitigation is incompatible with the Arbitrary Code Guard mitigation.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="ed5d6-361">Options de configuration</span><span class="sxs-lookup"><span data-stu-id="ed5d6-361">Configuration options</span></span>

<span data-ttu-id="ed5d6-362">**Audit uniquement** : vous pouvez activer cette atténuation en mode audit afin de mesurer l’impact potentiel de la compatibilité sur une application.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-362">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="ed5d6-363">Les événements d’audit peuvent ensuite être visualisateurs dans l’observateur d’événements ou à l’aide de la recherche avancée [dans Microsoft Defender pour point de terminaison.](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="ed5d6-363">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="validate-api-invocation-callercheck"></a><span data-ttu-id="ed5d6-364">Valider l’appel d’API (CallerCheck)</span><span class="sxs-lookup"><span data-stu-id="ed5d6-364">Validate API invocation (CallerCheck)</span></span>

### <a name="description"></a><span data-ttu-id="ed5d6-365">Description</span><span class="sxs-lookup"><span data-stu-id="ed5d6-365">Description</span></span>

<span data-ttu-id="ed5d6-366">Valider l’appel d’API (CallerCheck) est une atténuation des techniques de programmation orientée retour (ROP) qui valide que les API sensibles ont été appelées à partir d’un appelant valide.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-366">Validate API invocation (CallerCheck) is a mitigation for return-oriented programming (ROP) techniques that validates that sensitive APIs were called from a valid caller.</span></span> <span data-ttu-id="ed5d6-367">Cette atténuation inspecte l’adresse de l’adresse de l’appelant transmis, puis la désassemble de manière heuristique vers l’arrière pour trouver un appel au-dessus de l’adresse de l’appelant afin de déterminer si la cible de l’appel correspond au paramètre passé dans la fonction.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-367">This mitigation inspects the passed return address, and then heuristically disassembles backwards to find a call above the return address to determine if the call target matches the parameter passed into the function.</span></span>

<span data-ttu-id="ed5d6-368">Les API interceptées par cette atténuation sont :</span><span class="sxs-lookup"><span data-stu-id="ed5d6-368">The APIs intercepted by this mitigation are:</span></span>

- `LoadLibraryA`
- `LoadLibraryW`
- `LoadLibraryExA`
- `LoadLibraryExW`
- `LdrLoadDll`
- `VirtualAlloc`
- `VirtualAllocEx`
- `NtAllocateVirtualMemory`
- `VirtualProtect`
- `VirtualProtectEx`
- `NtProtectVirtualMemory`
- `HeapCreate`
- `RtlCreateHeap`
- `CreateProcessA`
- `CreateProcessW`
- `CreateProcessInternalA`
- `CreateProcessInternalW`
- `NtCreateUserProcess`
- `NtCreateProcess`
- `NtCreateProcessEx`
- `CreateRemoteThread`
- `CreateRemoteThreadEx`
- `NtCreateThreadEx`
- `WriteProcessMemory`
- `NtWriteVirtualMemory`
- `WinExec`
- `CreateFileMappingA`
- `CreateFileMappingW`
- `CreateFileMappingNumaW`
- `NtCreateSection`
- `MapViewOfFile`
- `MapViewOfFileEx`
- `MapViewOfFileFromApp`
- `LdrGetProcedureAddressForCaller`

<span data-ttu-id="ed5d6-369">Si un gadget ROP est détecté, le processus est terminé.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-369">If a ROP gadget is detected, the process is terminated.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="ed5d6-370">Considérations sur la compatibilité</span><span class="sxs-lookup"><span data-stu-id="ed5d6-370">Compatibility considerations</span></span>

<span data-ttu-id="ed5d6-371">Les applications qui effectuent l’interception d’API, en particulier les logiciels de sécurité, peuvent entraîner des problèmes de compatibilité avec cette atténuation.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-371">Applications that perform API interception, particularly security software, can cause compatibility problems with this mitigation.</span></span>

<span data-ttu-id="ed5d6-372">Cette atténuation est incompatible avec l’atténuation De Code Guard arbitraire.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-372">This mitigation is incompatible with the Arbitrary Code Guard mitigation.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="ed5d6-373">Options de configuration</span><span class="sxs-lookup"><span data-stu-id="ed5d6-373">Configuration options</span></span>

<span data-ttu-id="ed5d6-374">**Audit uniquement** : vous pouvez activer cette atténuation en mode audit afin de mesurer l’impact potentiel de la compatibilité sur une application.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-374">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="ed5d6-375">Les événements d’audit peuvent ensuite être visualisateurs dans l’observateur d’événements ou à l’aide de la recherche avancée [dans Microsoft Defender pour point de terminaison.](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="ed5d6-375">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="validate-exception-chains-sehop"></a><span data-ttu-id="ed5d6-376">Valider les chaînes d’exception (SEHOP)</span><span class="sxs-lookup"><span data-stu-id="ed5d6-376">Validate exception chains (SEHOP)</span></span>

### <a name="description"></a><span data-ttu-id="ed5d6-377">Description</span><span class="sxs-lookup"><span data-stu-id="ed5d6-377">Description</span></span>

<span data-ttu-id="ed5d6-378">La validation des chaînes d’exceptions (SEHOP) est une atténuation par rapport à la technique d’exploitation de l’rite *seH (Structured Exception Handler).*</span><span class="sxs-lookup"><span data-stu-id="ed5d6-378">Validate exception chains (SEHOP) is a mitigation against the *Structured Exception Handler (SEH) overwrite* exploitation technique.</span></span> <span data-ttu-id="ed5d6-379">[La gestion structurée des exceptions](https://docs.microsoft.com/windows/win32/debug/structured-exception-handling) est le processus par lequel une application peut demander à gérer une exception particulière.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-379">[Structured exception handling](https://docs.microsoft.com/windows/win32/debug/structured-exception-handling) is the process by which an application can ask to handle a particular exception.</span></span> <span data-ttu-id="ed5d6-380">Les handlers d’exception sont chaînés ensemble, de sorte que si un seul de ces derniers choisit de ne pas gérer une exception particulière, il peut être transmis au prochain de la chaîne jusqu’à ce qu’il décide de le gérer.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-380">Exception handlers are chained together, so that if one exception handler chooses not to handle a particular exception, it can be passed on to the next exception handler in the chain until one decides to handle it.</span></span> <span data-ttu-id="ed5d6-381">Étant donné que la liste du handler est dynamique, elle est stockée sur la pile.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-381">Because the list of handler is dynamic, it is stored on the stack.</span></span> <span data-ttu-id="ed5d6-382">Une personne malveillante peut utiliser une vulnérabilité de dépassement de pile pour ensuite réécrire le handler d’exceptions avec un pointeur vers le code de son choix.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-382">An attacker can use a stack overflow vulnerability to then overwrite the exception handler with a pointer to the code of the attacker's choice.</span></span>

<span data-ttu-id="ed5d6-383">Cette atténuation repose sur la conception de SEH, où chaque entrée SEH contient à la fois un pointeur vers le handler d’exceptions, ainsi qu’un pointeur vers le prochain de la chaîne d’exceptions.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-383">This mitigation relies on the design of SEH, where each SEH entry contains both a pointer to the exception handler, as well as a pointer to the next handler in the exception chain.</span></span> <span data-ttu-id="ed5d6-384">Cette atténuation est appelée par le répartiteur d’exceptions, qui valide la chaîne SEH lorsqu’une exception est appelée.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-384">This mitigation is called by the exception dispatcher, which validates the SEH chain when an exception is invoked.</span></span> <span data-ttu-id="ed5d6-385">Il vérifie que :</span><span class="sxs-lookup"><span data-stu-id="ed5d6-385">It verifies that:</span></span>

- <span data-ttu-id="ed5d6-386">Tous les enregistrements de chaîne d’exceptions se trouve dans les limites de la pile</span><span class="sxs-lookup"><span data-stu-id="ed5d6-386">All exception chain records are within the stack boundaries</span></span>
- <span data-ttu-id="ed5d6-387">Tous les enregistrements d’exception sont alignés</span><span class="sxs-lookup"><span data-stu-id="ed5d6-387">All exception records are aligned</span></span>
- <span data-ttu-id="ed5d6-388">Aucun pointeur de handler d’exception ne pointe vers la pile</span><span class="sxs-lookup"><span data-stu-id="ed5d6-388">No exception handler pointers are pointing to the stack</span></span>
- <span data-ttu-id="ed5d6-389">Il n’existe pas de pointeurs arrière</span><span class="sxs-lookup"><span data-stu-id="ed5d6-389">There are no backward pointers</span></span>
- <span data-ttu-id="ed5d6-390">La chaîne d’exceptions se termine à un handler d’exception final connu</span><span class="sxs-lookup"><span data-stu-id="ed5d6-390">The exception chain ends at a known final exception handler</span></span>

<span data-ttu-id="ed5d6-391">Si ces validations échouent, la gestion des exceptions est abandonnée et l’exception n’est pas gérée.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-391">If these validations fail, then exception handling is aborted, and the exception will not be handled.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="ed5d6-392">Considérations sur la compatibilité</span><span class="sxs-lookup"><span data-stu-id="ed5d6-392">Compatibility considerations</span></span>

<span data-ttu-id="ed5d6-393">Les problèmes de compatibilité avec SEHOP sont relativement rares.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-393">Compatibility issues with SEHOP are relatively rare.</span></span> <span data-ttu-id="ed5d6-394">Il est rare qu’une application dépende de la corruption de la chaîne d’exceptions.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-394">It's uncommon for an application to take a dependency on corrupting the exception chain.</span></span> <span data-ttu-id="ed5d6-395">Toutefois, certaines applications sont touchées par les modifications subtiles du minutage, qui peuvent se manifester sous la forme d’une condition de course qui révèle un bogue latent multi-thread dans l’application.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-395">However, some applications are impacted by the subtle changes in timing, which may manifest as a race condition that reveals a latent multi-threading bug in the application.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="ed5d6-396">Options de configuration</span><span class="sxs-lookup"><span data-stu-id="ed5d6-396">Configuration options</span></span>

> [!Note]
> <span data-ttu-id="ed5d6-397">**La validation des chaînes d’exceptions (SEHOP)** n’a pas de mode audit.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-397">**Validate exception chains (SEHOP)** has no audit mode.</span></span>

## <a name="validate-handle-usage"></a><span data-ttu-id="ed5d6-398">Valider l’utilisation des handles</span><span class="sxs-lookup"><span data-stu-id="ed5d6-398">Validate handle usage</span></span>

### <a name="description"></a><span data-ttu-id="ed5d6-399">Description</span><span class="sxs-lookup"><span data-stu-id="ed5d6-399">Description</span></span>

<span data-ttu-id="ed5d6-400">*Valider l’utilisation de la* poignée est une prévention qui permet de se protéger contre une attaque à l’aide d’un handle existant pour accéder à un objet protégé.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-400">*Validate handle usage* is a mitigation that helps protect against an attacker using an existing handle to access a protected object.</span></span> <span data-ttu-id="ed5d6-401">Un [handle](https://docs.microsoft.com/windows/win32/sysinfo/handles-and-objects) est une référence à un objet protégé.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-401">A [handle](https://docs.microsoft.com/windows/win32/sysinfo/handles-and-objects) is a reference to a protected object.</span></span> <span data-ttu-id="ed5d6-402">Si le code de l’application fait référence à un handle non valide, cela peut indiquer qu’un adversaire tente d’utiliser un handle qu’il a précédemment enregistré (mais dont le comptage des références d’application ne serait pas informé).</span><span class="sxs-lookup"><span data-stu-id="ed5d6-402">If application code is referencing an invalid handle, that could indicate that an adversary is attempting to use a handle it has previously recorded (but which application reference counting wouldn't be aware of).</span></span> <span data-ttu-id="ed5d6-403">Si l’application tente d’utiliser un objet non valide, au lieu de renvoyer simplement la valeur null, l’application lève une exception (STATUS_INVALID_HANDLE).</span><span class="sxs-lookup"><span data-stu-id="ed5d6-403">If the application attempts to use an invalid object, instead of simply returning null, the application will raise an exception (STATUS_INVALID_HANDLE).</span></span>

<span data-ttu-id="ed5d6-404">Cette atténuation est appliquée automatiquement aux applications du Windows Store.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-404">This mitigation is automatically applied to Windows Store applications.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="ed5d6-405">Considérations sur la compatibilité</span><span class="sxs-lookup"><span data-stu-id="ed5d6-405">Compatibility considerations</span></span>

<span data-ttu-id="ed5d6-406">Les applications qui ne suivaient pas avec précision les références de handle et qui n’inséraient pas ces opérations dans des gestions d’exceptions seront potentiellement impactées par cette atténuation.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-406">Applications that were not accurately tracking handle references, and which were not wrapping these operations in exception handlers, will potentially be impacted by this mitigation.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="ed5d6-407">Options de configuration</span><span class="sxs-lookup"><span data-stu-id="ed5d6-407">Configuration options</span></span>

> [!Note]
> <span data-ttu-id="ed5d6-408">**Valider l’utilisation de la poignée** n’a pas de mode audit.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-408">**Validate handle usage** has no audit mode.</span></span>

## <a name="validate-heap-integrity"></a><span data-ttu-id="ed5d6-409">Valider l’intégrité du tas</span><span class="sxs-lookup"><span data-stu-id="ed5d6-409">Validate heap integrity</span></span>

### <a name="description"></a><span data-ttu-id="ed5d6-410">Description</span><span class="sxs-lookup"><span data-stu-id="ed5d6-410">Description</span></span>

<span data-ttu-id="ed5d6-411">La *validation de l’atténuation* de l’intégrité du tas augmente le niveau de protection des atténuations de tas dans Windows, en entraînant la fin de l’application en cas de détection d’une altération du tas.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-411">The *validate heap integrity* mitigation increases the protection level of heap mitigations in Windows, by causing the application to terminate if a heap corruption is detected.</span></span> <span data-ttu-id="ed5d6-412">Les atténuations sont les suivantes :</span><span class="sxs-lookup"><span data-stu-id="ed5d6-412">The mitigations include:</span></span>

- <span data-ttu-id="ed5d6-413">Empêcher la libération d’un handle HEAP</span><span class="sxs-lookup"><span data-stu-id="ed5d6-413">Preventing a HEAP handle from being freed</span></span>
- <span data-ttu-id="ed5d6-414">Effectuer une autre validation sur les en-têtes de bloc étendus pour les allocations de tas</span><span class="sxs-lookup"><span data-stu-id="ed5d6-414">Performing another validation on extended block headers for heap allocations</span></span>
- <span data-ttu-id="ed5d6-415">Vérification que les allocations de tas ne sont pas déjà marquées comme étant en cours d’utilisation</span><span class="sxs-lookup"><span data-stu-id="ed5d6-415">Verifying that heap allocations are not already flagged as in-use</span></span>
- <span data-ttu-id="ed5d6-416">Ajout de pages de protection à de grandes allocations, segments de tas et sous-catégories au-dessus d’une taille minimale</span><span class="sxs-lookup"><span data-stu-id="ed5d6-416">Adding guard pages to large allocations, heap segments, and subsegments above a minimum size</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="ed5d6-417">Considérations sur la compatibilité</span><span class="sxs-lookup"><span data-stu-id="ed5d6-417">Compatibility considerations</span></span>

<span data-ttu-id="ed5d6-418">Cette atténuation est déjà appliquée par défaut pour les applications 64 bits et les applications 32 bits ciblant Windows Vista ou une édition ultérieure.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-418">This mitigation is already applied by default for 64-bit applications and for 32-bit applications targeting Windows Vista or later.</span></span> <span data-ttu-id="ed5d6-419">Les applications héritées de Windows XP ou antérieures sont les plus à risque, bien que les problèmes de compatibilité soient rares.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-419">Legacy applications from Windows XP or earlier are most at-risk, though compatibility issues are rare.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="ed5d6-420">Options de configuration</span><span class="sxs-lookup"><span data-stu-id="ed5d6-420">Configuration options</span></span>

> [!Note]
> <span data-ttu-id="ed5d6-421">**Vérifier que l’intégrité du tas** n’a pas de mode audit.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-421">**Validate heap integrity** has no audit mode.</span></span>

## <a name="validate-image-dependency-integrity"></a><span data-ttu-id="ed5d6-422">Valider l’intégrité des dépendances d’image</span><span class="sxs-lookup"><span data-stu-id="ed5d6-422">Validate image dependency integrity</span></span>

### <a name="description"></a><span data-ttu-id="ed5d6-423">Description</span><span class="sxs-lookup"><span data-stu-id="ed5d6-423">Description</span></span>

<span data-ttu-id="ed5d6-424">La *validation de l’atténuation des dépendances d’image* permet de se protéger contre les attaques qui tentent de substituer du code aux DLL liées statiquement par les binaires Windows.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-424">The *validate image dependency* mitigation helps protect against attacks that attempt to substitute code for dlls that are statically linked by Windows binaries.</span></span> <span data-ttu-id="ed5d6-425">La technique de la DLL contre les abus du mécanisme de recherche du chargeur pour injecter du code malveillant, qui peut être utilisé pour obtenir du code malveillant s’exécutant dans un contexte élevé.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-425">The technique of DLL planting abuses the loader's search mechanism to inject malicious code, which can be used to get malicious code running in an elevated context.</span></span> <span data-ttu-id="ed5d6-426">Lorsque le chargeur charge un fichier binaire signé Windows, puis charge toutes les DLL dont dépend le binaire, ces binaires sont vérifiés pour s’assurer qu’ils sont également signés numériquement en tant que fichier binaire Windows.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-426">When the loader is loading a Windows signed binary, and then loads up any dlls that the binary depends on, these binaries will be verified to ensure that they are also digitally signed as a Windows binary.</span></span> <span data-ttu-id="ed5d6-427">En cas d’échec de la vérification de la signature, la DLL n’est pas chargée et une exception est lancée, ce qui retourne l’état STATUS_INVALID_IMAGE_HASH.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-427">If they fail the signature check, the dll will not be loaded, and will throw an exception, returning a status of STATUS_INVALID_IMAGE_HASH.</span></span>

### <a name="compatibility-considerations"></a><span data-ttu-id="ed5d6-428">Considérations sur la compatibilité</span><span class="sxs-lookup"><span data-stu-id="ed5d6-428">Compatibility considerations</span></span>

<span data-ttu-id="ed5d6-429">Les problèmes de compatibilité sont rares.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-429">Compatibility issues are uncommon.</span></span> <span data-ttu-id="ed5d6-430">Les applications qui dépendent du remplacement des binaires Windows par des versions privées locales seront impactées, et il existe également un petit risque de révéler des bogues de minutage discrets dans les applications multi-threads.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-430">Applications that depend on replacing Windows binaries with local private versions will be impacted, and there is also a small risk of revealing subtle timing bugs in multi-threaded applications.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="ed5d6-431">Options de configuration</span><span class="sxs-lookup"><span data-stu-id="ed5d6-431">Configuration options</span></span>

<span data-ttu-id="ed5d6-432">**Audit uniquement** : vous pouvez activer cette atténuation en mode audit afin de mesurer l’impact potentiel de la compatibilité sur une application.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-432">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="ed5d6-433">Les événements d’audit peuvent ensuite être visualisateurs dans l’observateur d’événements ou à l’aide de la recherche avancée [dans Microsoft Defender pour point de terminaison.](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="ed5d6-433">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview).</span></span>

## <a name="validate-stack-integrity-stackpivot"></a><span data-ttu-id="ed5d6-434">Valider l’intégrité de la pile (StackPivot)</span><span class="sxs-lookup"><span data-stu-id="ed5d6-434">Validate stack integrity (StackPivot)</span></span>

### <a name="description"></a><span data-ttu-id="ed5d6-435">Description</span><span class="sxs-lookup"><span data-stu-id="ed5d6-435">Description</span></span>

<span data-ttu-id="ed5d6-436">L’atténuation valider l’intégrité de la pile *(StackPivot)* permet de se protéger contre les attaques du tableau croisé dynamique de pile, une attaque ROP dans laquelle une personne malveillante crée une pile factice dans la mémoire du tas, puis astuces de l’application pour retourner dans la pile factice qui contrôle le flux d’exécution.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-436">The *validate stack integrity (StackPivot)* mitigation helps protect against the Stack Pivot attack, a ROP attack where an attacker creates a fake stack in heap memory, and then tricks the application into returning into the fake stack that controls the flow of execution.</span></span>

<span data-ttu-id="ed5d6-437">Cette atténuation intercepte de nombreuses API Windows et inspecte la valeur du pointeur de pile.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-437">This mitigation intercepts many Windows APIs, and inspects the value of the stack pointer.</span></span> <span data-ttu-id="ed5d6-438">Si l’adresse du pointeur de pile ne se trouve pas entre le bas et le haut de la pile, un événement est enregistré et, s’il n’est pas en mode audit, le processus est interrompu.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-438">If the address of the stack pointer does not fall between the bottom and the top of the stack, then an event is recorded and, if not in audit mode, the process will be terminated.</span></span>

<span data-ttu-id="ed5d6-439">Les API interceptées par cette atténuation sont :</span><span class="sxs-lookup"><span data-stu-id="ed5d6-439">The APIs intercepted by this mitigation are:</span></span>

- `LoadLibraryA`
- `LoadLibraryW`
- `LoadLibraryExA`
- `LoadLibraryExW`
- `LdrLoadDll`
- `VirtualAlloc`
- `VirtualAllocEx`
- `NtAllocateVirtualMemory`
- `VirtualProtect`
- `VirtualProtectEx`
- `NtProtectVirtualMemory`
- `HeapCreate`
- `RtlCreateHeap`
- `CreateProcessA`
- `CreateProcessW`
- `CreateProcessInternalA`
- `CreateProcessInternalW`
- `NtCreateUserProcess`
- `NtCreateProcess`
- `NtCreateProcessEx`
- `CreateRemoteThread`
- `CreateRemoteThreadEx`
- `NtCreateThreadEx`
- `WriteProcessMemory`
- `NtWriteVirtualMemory`
- `WinExec`
- `CreateFileMappingA`
- `CreateFileMappingW`
- `CreateFileMappingNumaW`
- `NtCreateSection`
- `MapViewOfFile`
- `MapViewOfFileEx`
- `MapViewOfFileFromApp`
- `LdrGetProcedureAddressForCaller`

### <a name="compatibility-considerations"></a><span data-ttu-id="ed5d6-440">Considérations sur la compatibilité</span><span class="sxs-lookup"><span data-stu-id="ed5d6-440">Compatibility considerations</span></span>

<span data-ttu-id="ed5d6-441">Les applications qui utilisent des piles factices seront impactées, et il existe également un petit risque de révéler des bogues de minutage discrets dans les applications multi-threads.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-441">Applications that are using fake stacks will be impacted, and there is also a small risk of revealing subtle timing bugs in multi-threaded applications.</span></span>
<span data-ttu-id="ed5d6-442">Les applications qui effectuent l’interception d’API, en particulier les logiciels de sécurité, peuvent entraîner des problèmes de compatibilité avec cette atténuation.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-442">Applications that perform API interception, particularly security software, can cause compatibility problems with this mitigation.</span></span>

<span data-ttu-id="ed5d6-443">Cette atténuation est incompatible avec l’atténuation De Code Guard arbitraire.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-443">This mitigation is incompatible with the Arbitrary Code Guard mitigation.</span></span>

### <a name="configuration-options"></a><span data-ttu-id="ed5d6-444">Options de configuration</span><span class="sxs-lookup"><span data-stu-id="ed5d6-444">Configuration options</span></span>

<span data-ttu-id="ed5d6-445">**Audit uniquement** : vous pouvez activer cette atténuation en mode audit afin de mesurer l’impact potentiel de la compatibilité sur une application.</span><span class="sxs-lookup"><span data-stu-id="ed5d6-445">**Audit Only** - You can enable this mitigation in audit mode in order to measure the potential compatibility impact on an application.</span></span> <span data-ttu-id="ed5d6-446">Les événements d’audit peuvent ensuite être visualisateurs dans l’observateur d’événements ou à l’aide de la recherche avancée [dans Microsoft Defender pour point de terminaison.](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview)</span><span class="sxs-lookup"><span data-stu-id="ed5d6-446">Audit events can then be viewed either in the event viewer or using Advanced Hunting in [Microsoft Defender for Endpoint](https://docs.microsoft.com/microsoft-365/security/defender/advanced-hunting-overview).</span></span>
