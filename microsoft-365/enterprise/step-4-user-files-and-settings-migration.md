---
title: 'Étape 4 : migration des paramètres et des fichiers utilisateur'
ms.author: jogruszc
author: JGruszczyk
manager: jemed
ms.date: 09/14/2018
ms.audience: ITPro
ms.topic: article
ms.service: o365-solutions
localization_priority: Priority
ms.collection:
- Ent_O365
- Strat_O365_Enterprise
ms.custom: ''
description: Découvrez comment migrer des paramètres et des fichiers utilisateur.
ms.openlocfilehash: 51811cf972328cc26687b45fb65e2bdd6d58af1f
ms.sourcegitcommit: eb1a77e4cc4e8f564a1c78d2ef53d7245fe4517a
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/28/2018
ms.locfileid: "26867293"
---
# <a name="step-4-user-files-and-settings-migration"></a><span data-ttu-id="c4441-103">Étape 4 : migration des paramètres et des fichiers utilisateur</span><span class="sxs-lookup"><span data-stu-id="c4441-103">Step 4: User Files and Settings Migration</span></span>

<span data-ttu-id="c4441-p101">Transférer des paramètres et des fichiers utilisateur vers son nouveau PC ou son PC mis à jour est un processus critique, l’échec est exclu. Vous pouvez migrer chaque PC manuellement ou choisir l’une des manières suivantes pour automatiser le processus. Quelle que soit la méthode de migration sélectionnée, choisissez trois éléments à traiter : le transfert des fichiers utilisateur, leurs paramètres et la gestion des mises en page de la barre des tâches et du démarrage de Windows 10.</span><span class="sxs-lookup"><span data-stu-id="c4441-p101">Moving users’ files and settings to their new or refreshed PCs is a critical process; failure is not an option. You can migrate each PC manually or you choose one of several ways to automate the process. Whichever migration method you choose you three items to be addressed – the transfer of users’ files, their settings, and managing Windows 10 Start and taskbar layouts.</span></span>

![](media/step-4-user-files-and-settings-migration-media/step-4-user-files-and-settings-migration-media-1.png)

<table>
<thead>
<td><img src="media/desktop-deployment-center-home-media/desktop-deployment-center-home-media-7.png" alt="Step 4" height="135" width="135" /></td>
<td><p><span data-ttu-id="c4441-107"><strong>Étape 4 : paramètres et fichiers utilisateur</strong></span><span class="sxs-lookup"><span data-stu-id="c4441-107"><strong>Step 4: User Files and Settings</strong></span></span></p>
<p><span data-ttu-id="c4441-p102">Lorsque vous actualisez ou remplacez des PC, gagnez du temps en automatisant la sauvegarde et la restauration de l’état utilisateur. De nouvelles options dédiées à la synchronisation des fichiers cloud vous permettent d’appliquer, par utilisateur, la synchronisation des dossiers Bureau, Documents et Images avec OneDrive afin d’assurer un accès transparent aux fichiers à partir de nouvelles installations de Windows.</span><span class="sxs-lookup"><span data-stu-id="c4441-p102">When refreshing or replacing PCs, save time by automating user state backup and restore. New options for cloud file sync allow you to enforce per user sync of Desktop, Documents and Pictures folders to OneDrive for seamless file access from new Windows installs.</span></span></p></td>
<td><a href="https://aka.ms/ddev4" target="_blank"><img src="media/desktop-deployment-center-home-media/desktop-deployment-center-home-media-17.png" alt="Step 4" height="130" width="231" /></a></td>
</thead>
</table>

>[!NOTE]
><span data-ttu-id="c4441-p103">Même si vous pouvez continuer à utiliser le processus de migration que vous avez utilisé dans le passé, en raison de votre migration vers Office 365 ProPlus, nous vous recommandons d’utiliser la fonction « Known Folder Move » de OneDrive (voir ci-après). Pour afficher l’ensemble du processus de déploiement de bureau, visitez le [centre de déploiement de bureau moderne](https://aka.ms/HowToShift).</span><span class="sxs-lookup"><span data-stu-id="c4441-p103">While you can continue to use migration processes you have used in the past, with your shift to Office 365 ProPlus we recommend you use OneDrive ‘Known Folder Move’ (see below). To see the full desktop deployment process, visit the [Modern Desktop Deployment Center](https://aka.ms/HowToShift).</span></span>
>

<span data-ttu-id="c4441-p104">L’une des tâches les plus délicates et souvent les plus manuelles d’un déploiement à grande échelle est le transfert des fichiers et des paramètres de vos utilisateurs. Dans cet article, nous allons aborder les options disponibles pour migrer les utilisateurs vers de nouveaux PC, des PC actualisés et remis en image.</span><span class="sxs-lookup"><span data-stu-id="c4441-p104">One of the trickiest and often most manual tasks of a large-scale deployment is the transferring of your users' files and settings. In this article we will cover the options available to you to migrate users to new, refreshed and re-imaged PCs.</span></span>

## <a name="manual-migration"></a><span data-ttu-id="c4441-114">Migration manuelle</span><span class="sxs-lookup"><span data-stu-id="c4441-114">Manual Migration</span></span>

<span data-ttu-id="c4441-p105">Pour décider ce qu’il faut conserver lors du transfert vers un nouveau PC ou une nouvelle version de Windows, certains utilisateurs souhaitent parfois tout garder, alors que d’autres personnes saisissent cette opportunité pour nettoyer leurs lecteurs. Par conséquent, certains services informatiques choisissent de gérer la migration de fichiers utilisateur manuellement, parfois en envoyant des équipes de support rendre visite aux utilisateurs, parfois en configurant des centres de support où les utilisateurs peuvent amener leurs PC à l’équipe de support. Quoi qu’il en soit, les utilisateurs peuvent choisir les éléments à transférer ou à supprimer.</span><span class="sxs-lookup"><span data-stu-id="c4441-p105">When it comes to deciding on what to keep when moving to a new PC or a new version of Windows some users may want to keep everything, others may want to take the opportunity to clean up their drives. Because of this, some IT departments choose to handle user file migration manually, sometimes by having support teams visit users; sometimes by setting up support centers for users to bring their PCs to the support team. Either way users can be involved in deciding what to transfer and what to discard.</span></span>

<span data-ttu-id="c4441-p106">La disponibilité ou non-disponibilité de cette option dans votre organisation dépend de l’échelle de la migration planifiée. Elle est clairement limitée par le temps et les raisons physiques impliquées dans le travail direct avec les utilisateurs pour comprendre leurs besoins, copier les fichiers vers leur nouveau PC ou leur PC mis à jour récemment.</span><span class="sxs-lookup"><span data-stu-id="c4441-p106">Whether this is an option in your organization will depend on the scale of the migration you are planning. Clearly it is limited to the time and physics involved in working directly with users, understanding their needs, copying files across to their new, or freshly updated PC.</span></span>

<span data-ttu-id="c4441-p107">Si vous optez pour une migration manuelle, vous devez évaluer si vous pourrez terminer la tâche d’ici janvier 2020, lorsque la prise en charge de Windows 7 prendra fin. Si vous en doutez, envisagez d’utiliser l’une des options automatisées ci-après ou demandez de l’aide à d’autres personnes.</span><span class="sxs-lookup"><span data-stu-id="c4441-p107">If you are opting for a manual migration, you may need to assess whether you will be able to complete the task by January 2020, when support for Windows 7 ends. If this looks doubtful, look into using one of the automated options below, or request more people to help.</span></span>

## <a name="automated-migration-using-usmt"></a><span data-ttu-id="c4441-122">Migration automatisée à l’aide d’USMT</span><span class="sxs-lookup"><span data-stu-id="c4441-122">Automated Migration using USMT</span></span> 

<span data-ttu-id="c4441-p108">Pour les déploiements à grande échelle, vous pouvez automatiser une grande partie du processus en utilisant des outils d’automatisation de déploiement basée sur une séquence de tâches tels que System Center Configuration Manager ou Microsoft Deployment Toolkit (MDT). Ces deux solutions utilisent l’outil de migration de l’état utilisateur (USMT) dans le cadre de leur processus de déploiement de bout en bout. USMT fait partie du [Kit de déploiement et d’évaluation Windows (Windows ADK)](https://docs.microsoft.com/fr-FR/windows-hardware/get-started/adk-install).</span><span class="sxs-lookup"><span data-stu-id="c4441-p108">For large-scale deployments you can automate much of the process using task sequence-based deployment automation tools such as System Center Configuration Manager or the Microsoft Deployment Toolkit (MDT). Both these solutions make use User State Migration Tool (USMT) as part of their end-to-end deployment process. USMT is part of the [Windows Assessment and Deployment Kit (Windows ADK)](https://docs.microsoft.com/fr-FR/windows-hardware/get-started/adk-install)</span></span>

<span data-ttu-id="c4441-p109">USMT capture les comptes d’utilisateurs, les fichiers utilisateur, les paramètres du système d’exploitation et les paramètres des applications, puis les migre vers une nouvelle installation de Windows. Il vous offre aussi, en tant qu’administrateur informatique, le contrôle des éléments réellement migrés et il peut, si vous le souhaitez, exclure des types de fichiers indésirables (par exemple, des fichiers audio et vidéo ou ses fichiers exécutables).</span><span class="sxs-lookup"><span data-stu-id="c4441-p109">USMT captures user accounts, user files, operating system settings, and application settings, and them migrates them to a new Windows installation. It also gives you, the IT Admin, control of exactly what gets migrated and, optionally, can exclude unwanted file types – for example audio and video files, or executables.</span></span>

<span data-ttu-id="c4441-p110">Pendant le processus de migration, vous devrez avoir suffisamment de capacité de stockage serveur disponible pour que ce dernier agisse en tant que votre magasin de migration temporaire. USMT propose ici deux fonctionnalités importantes. Tout d’abord, il peut estimer, par PC, le volume d’espace de stockage dont vous avez besoin. Ensuite, il permet de chiffrer les magasins de migration, réduisant ainsi le risque d’être compromis lors de leur stockage sur des serveurs de fichiers.</span><span class="sxs-lookup"><span data-stu-id="c4441-p110">During the migration process you will need to have sufficient server storage capacity available to act as your temporary migration store. Here USMT offers two important features. First, it can estimate, per PC, the amount of storage you will need. Second, it allows for migration stores to be encrypted, reducing the risk of data being compromised while being stored on file servers.</span></span>

<span data-ttu-id="c4441-p111">Si vous effectuez une actualisation de PC et ne formatez pas la partition principale de Windows, vous avez également la possibilité d’utiliser un magasin de migration de lien physique avec USMT. Ce processus conserve l’état utilisateur sur le PC alors que l’ancien système d’exploitation et les anciennes applications sont supprimés et actualisés. Grâce au processus de restauration provenant de la même partition locale, cette option comprend des améliorations importantes en matière de performances et réduit le trafic réseau.</span><span class="sxs-lookup"><span data-stu-id="c4441-p111">Where you are performing a PC refresh and not reformatting the primary Windows partition, you also have the option of using a hard-link migration store with USMT. This process preserves user state on the PC while the old operating system and apps are removed and refreshed. With the restore process coming from the same local partition, this option offers significant improvements on performance, and reduces network traffic.</span></span>

[<span data-ttu-id="c4441-135">Vue d’ensemble de l’outil de migration de l’état utilisateur (USMT)</span><span class="sxs-lookup"><span data-stu-id="c4441-135">User State Migration Tool (USMT) Overview</span></span>](https://docs.microsoft.com/fr-FR/windows/deployment/usmt/usmt-overview)

## <a name="onedrive-known-folder-move"></a><span data-ttu-id="c4441-136">Fonctionnalité Known Folder Move de OneDrive</span><span class="sxs-lookup"><span data-stu-id="c4441-136">OneDrive Known Folder Move</span></span>

<span data-ttu-id="c4441-p112">Si vos utilisateurs sont sur OneDrive ou si vous ajoutez OneDrive dans le cadre de ce déploiement, une nouvelle option est mise à votre disposition. En utilisant le cloud pour synchroniser des fichiers utilisateur, la fonctionnalité « Known Folder Move » de OneDrive fournit un niveau de flexibilité qu’il est impossible d’atteindre avec les options de migration de fichier basé sur le réseau local. Si elle est activée avant la migration, elle fournit un accès sécurisé aux nouveaux PC ou aux PC actualisés et permet d’éliminer le besoin de créer des magasins de migration temporaire sur vos propres serveurs. Elle peut également être complètement transparente à l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="c4441-p112">If your users are on OneDrive or you are adding OneDrive in as part of this deployment, there is new option available to you. Using the cloud to synchronize user files, OneDrive “Known Folder Move” feature provides a level of flexibility not possible with local network-based file migration options. If enabled prior to migration, it provides secure access on new or refreshed PCs and, it eliminates the need to create temporary migration stores on your own servers. It is also has the potential to be completely transparent to the user.</span></span>

[<span data-ttu-id="c4441-141">Rediriger et déplacer les dossiers connus de Windows vers OneDrive</span><span class="sxs-lookup"><span data-stu-id="c4441-141">Redirect and move Windows known folders to OneDrive</span></span>](https://docs.microsoft.com/fr-FR/onedrive/redirect-known-folders)

<span data-ttu-id="c4441-p113">Si vous utilisez déjà OneDrive, vous saurez que les utilisateurs peuvent sélectionner les dossiers et les emplacements qu’ils souhaitent synchroniser à partir de OneDrive ou SharePoint avec leur appareil, mais, dans ce cas, c’est à l’utilisateur final que revient la lourde tâche de la configuration. Avec la fonctionnalité Known Folder Move, vous pouvez cibler les dossiers Documents, Bureau et Images dans un profil utilisateur et tous les protéger sur OneDrive. Un utilisateur peut le faire lui-même ou vous pouvez [le faire à l’aide des paramètres de stratégie de groupe](https://docs.microsoft.com/en-us/onedrive/use-group-policy?redirectSourcePath=%252fen-us%252farticle%252fUse-Group-Policy-to-control-OneDrive-sync-client-settings-0ecb2cf5-8882-42b3-a6e9-be6bda30899c), ce qui est particulièrement important dans ce scénario.</span><span class="sxs-lookup"><span data-stu-id="c4441-p113">If you’re already using OneDrive, you will know that users can select the folders and locations they would like to sync from OneDrive or SharePoint to their device, but that effectively puts the burden on the end user to set it up. With Known Folder Move, you can target the Documents, Desktop and Pictures folders within a user profile and protect it all on OneDrive. A user can do this themselves or, importantly for this scenario, you can [enforce this using Group Policy settings](https://docs.microsoft.com/en-us/onedrive/use-group-policy?redirectSourcePath=%252fen-us%252farticle%252fUse-Group-Policy-to-control-OneDrive-sync-client-settings-0ecb2cf5-8882-42b3-a6e9-be6bda30899c).</span></span>

<span data-ttu-id="c4441-p114">Avec la fonctionnalité Known Folder Move, les utilisateurs ne changent pas leur flux de travail : tout est identique avant, pendant et après la synchronisation avec OneDrive. Grâce à la stratégie de groupe, vous pouvez même choisir ou non d’informer les utilisateurs que leurs documents, leurs images et leur bureau sont protégés dans OneDrive. Si vous choisissez de ne pas les informer, cela se produit en mode silencieux en arrière-plan. Les utilisateurs ne s’en rendent compte qu’à la remise d’un nouveau PC ou de leur PC actualisé. Dès qu’ils se connectent à leur compte OneDrive, ces fichiers seront à nouveau disponibles et seront restaurés sur leur nouveau PC. Bien entendu, OneDrive leur permet également de consulter leurs fichiers en toute sécurité et à tout moment à partir de leurs téléphones et d’autres appareils.</span><span class="sxs-lookup"><span data-stu-id="c4441-p114">With Known Folder Move, users don’t change their workflow – everything looks the same before, during and after synchronization with OneDrive is complete. Through Group Policy you can even choose whether or not to notify users that their documents, pictures and desktop are protected in OneDrive. If you choose not to, it all happens silently in the background. The users will only be aware when they take delivery of a new PC or their PC is refreshed. As soon as they sign in to their OneDrive account, these files will be available again, and will be restored to their new PC. And of course, OneDrive means they will also their files securely at any time from their phones and other devices.</span></span>

<span data-ttu-id="c4441-151">L’authentification pour OneDrive est assurée par Azure Active Directory. Pour obtenir une sécurité supplémentaire, vous pouvez facilement activer l’authentification multifacteur et définir des stratégies pour contrôler la bande passante de chargement et de téléchargement utilisée par OneDrive pour limiter l’activité réseau.</span><span class="sxs-lookup"><span data-stu-id="c4441-151">Authentication for OneDrive powered by Azure Active Directory, so for extra security, you can easily enable multi-factor authentication, and you can set policies to control the upload and download bandwidth OneDrive uses to limit network activity.</span></span>

<span data-ttu-id="c4441-p115">Vous ne devez pas migrer tous les éléments utilisés en même temps. Vous devrez peut-être effectuer le déploiement des paramètres de stratégie de groupe progressivement ou [limiter la synchronisation des fichiers aux PC joints au domaine](https://docs.microsoft.com/en-us/powershell/module/sharepoint-online/Set-SPOTenantSyncClientRestriction?view=sharepoint-ps).</span><span class="sxs-lookup"><span data-stu-id="c4441-p115">You don’t have to migrate every use at the same time. You may want phase the roll-out of the Group Policy settings, or [limit file sync to domain-joined PCs](https://docs.microsoft.com/en-us/powershell/module/sharepoint-online/Set-SPOTenantSyncClientRestriction?view=sharepoint-ps).</span></span>

## <a name="start-menu-and-task-bar-customization"></a><span data-ttu-id="c4441-154">Personnalisation du menu Démarrer et de la barre des tâches</span><span class="sxs-lookup"><span data-stu-id="c4441-154">Start Menu and Task Bar Customization</span></span>

<span data-ttu-id="c4441-p116">OneDrive est conçu pour synchroniser et protéger les fichiers et dossiers ; il ne synchronise pas les applications ou les paramètres de Windows. Pour ce faire, vous avez peut-être utilisé dans le passé la méthode de profil Copy pour configurer les mises en page standard des paramètres des menus Démarrer et des barres des tâches des utilisateurs. Dans Windows 10 Professionnel, Entreprise et Éducation, vous pouvez utiliser la stratégie de groupe, MDM, PowerShell ou l’approvisionnement en packages pour déployer les [mises en page personnalisées des menus Démarrer et des barres des tâches](https://docs.microsoft.com/fr-FR/windows/configuration/windows-10-start-layout-options-and-policies). Aucune recréation de l’image n’est requise et la mise en page peut être mise à jour en écrasant simplement le fichier .xml contenant la mise en page.</span><span class="sxs-lookup"><span data-stu-id="c4441-p116">OneDrive is designed to sync and protect files and folders; it does not sync application or Windows settings. To do this in the past you may have used the copy profile method to configure standard layouts for users’ Start menus and taskbar settings. In Windows 10 Pro, Enterprise, and Education, you can use Group Policy, MDM, PowerShell, or provisioning packages, to deploy [customized Start and taskbar layouts](https://docs.microsoft.com/fr-FR/windows/configuration/windows-10-start-layout-options-and-policies). No reimaging is required, and the layout can be updated simply by overwriting the .xml file that contains the layout.</span></span>

<span data-ttu-id="c4441-p117">Pour créer une nouvelle mise en page, il vous suffit de configurer un système exemple et d’utiliser la cmdlet PowerShell [Export-StartLayout](https://docs.microsoft.com/en-us/powershell/module/startlayout/export-startlayout?view=win10-ps) pour générer un fichier XML, puis de placer ce fichier sur un partage réseau ou de le mettre en cache localement dans le cadre de votre séquence de déploiement ; il doit juste être accessible en tant que fichier en lecture seule lorsque l’utilisateur se connecte. Vous pouvez ensuite utiliser la stratégie ou la cmdlet [Import-StartLayout](https://docs.microsoft.com/en-us/powershell/module/startlayout/import-startlayout?view=win10-ps) pour faire référence à ce fichier.</span><span class="sxs-lookup"><span data-stu-id="c4441-p117">To create a new layout simply configure a sample system, and use the PowerShell [Export-StartLayout](https://docs.microsoft.com/en-us/powershell/module/startlayout/export-startlayout?view=win10-ps) cmdlet to generate an XML file, then place this file on a network share, or cache it locally as part of your deployment sequence; it just needs to be reachable as Read-only file once the user signs in. You can then use policy or the [Import-StartLayout](https://docs.microsoft.com/en-us/powershell/module/startlayout/import-startlayout?view=win10-ps) cmdlet to reference this file.</span></span>

## <a name="removing-unwanted-in-box-apps"></a><span data-ttu-id="c4441-161">Suppression des applications fournies indésirables</span><span class="sxs-lookup"><span data-stu-id="c4441-161">Removing unwanted in-box apps</span></span>

<span data-ttu-id="c4441-p118">Windows 10 inclut de nombreuses applications intégrées utiles dans le cadre de l’installation standard, mais vous pouvez supprimer certaines de ces applications de vos PC gérés et même configurer votre installation afin d’empêcher le renvoi de ces applications, par exemple XBOX ou Zune Music. Vous pouvez récupérer la liste de ces applications à l’aide des commandes [PowerShell Get-AppxPackage](https://technet.microsoft.com/fr-FR/library/hh856044.aspx) et supprimer celles que vous ne souhaitez pas utiliser à l’aide de la commande [Remove-AppxPackage](https://technet.microsoft.com/fr-FR/library/hh856038.aspx). Vous pouvez également monter le fichier image Windows (.img) en mode hors connexion avant le déploiement et extraire les packages que vous ne souhaitez pas à l’aide de l’outil de ligne de commande [Deployment Image Servicing and Management (DISM)](https://docs.microsoft.com/fr-FR/windows-hardware/manufacture/desktop/what-is-dism) et la commande [Remove-AppxProvisionedPackage](https://docs.microsoft.com/en-us/powershell/module/dism/remove-appxprovisionedpackage?view=win10-ps).</span><span class="sxs-lookup"><span data-stu-id="c4441-p118">Windows 10 includes many useful built-in apps as part of the standard installation, but you may want to remove some of these from your managed PCs, and even configure your installation to prevent those apps from returning, for example, XBOX or Zune Music. You can retrieve a list of these apps using the [PowerShell Get-AppxPackage](https://technet.microsoft.com/fr-FR/library/hh856044.aspx) commands, and remove those you do not want using the [Remove-AppxPackage](https://technet.microsoft.com/fr-FR/library/hh856038.aspx) command. Alternatively, you can mount the Windows Image (.img) file offline before deployment, and extract packages you do not want using the [Deployment Image Servicing and Management (DISM)](https://docs.microsoft.com/fr-FR/windows-hardware/manufacture/desktop/what-is-dism) command line tool and the [Remove-AppxProvisionedPackage](https://docs.microsoft.com/en-us/powershell/module/dism/remove-appxprovisionedpackage?view=win10-ps) command.</span></span>

## <a name="next-step"></a><span data-ttu-id="c4441-165">Étape suivante</span><span class="sxs-lookup"><span data-stu-id="c4441-165">Next Step</span></span>

## <a name="step-5-security-and-compliance-considerationshttpsakamsmdd5"></a>[<span data-ttu-id="c4441-166">Étape 5 : considérations relatives à la sécurité et à la conformité</span><span class="sxs-lookup"><span data-stu-id="c4441-166">Step 5: Security and Compliance Considerations</span></span>](https://aka.ms/mdd5)

## <a name="previous-step"></a><span data-ttu-id="c4441-167">Étape précédente</span><span class="sxs-lookup"><span data-stu-id="c4441-167">Previous Step</span></span>

## <a name="step-3-office-and-lob-app-deliveryhttpsakamsmdd3"></a>[<span data-ttu-id="c4441-168">Étape 3 : livraison d’Office et d’applications métier</span><span class="sxs-lookup"><span data-stu-id="c4441-168">Step 3: Office and LOB App Delivery</span></span>](https://aka.ms/mdd3)